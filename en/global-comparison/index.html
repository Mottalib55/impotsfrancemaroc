<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Analytics (chargÃ© aprÃ¨s interaction pour performance) -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}

        function loadGA() {
            if (window.gaLoaded) return;
            window.gaLoaded = true;

            var script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-Z328SB8DZ8';
            script.async = true;
            document.head.appendChild(script);

            gtag('js', new Date());
            gtag('config', 'G-Z328SB8DZ8');
        }

        // Charger GA aprÃ¨s interaction utilisateur ou aprÃ¨s 3s
        ['scroll', 'click', 'touchstart', 'keydown'].forEach(function(evt) {
            window.addEventListener(evt, loadGA, {once: true, passive: true});
        });
        setTimeout(loadGA, 3000);
    </script>

    <!-- Language Router (must be early for redirect) -->
    <script defer src="/assets/js/lang-router.js"></script>

    <script>
    </script>

    <!-- SEO Primary -->
    <title>Global Salary Comparator | France, Dubai, UK, Switzerland...</title>
    <meta name="description" content="France, Morocco, Dubai, Switzerland, Luxembourg... Where is your salary really worth the most? Compare and find the best country for your family situation.">
    <meta name="keywords" content="international salary comparator, tax simulator, taxes france morocco dubai uk singapore, expatriation, net salary, tax comparison">

    <!-- Canonical & Hreflang -->
    <link rel="canonical" href="https://netsalaire.com/en/global-comparison/">
    <link rel="alternate" hreflang="fr" href="https://netsalaire.com/fr/comparateur-global/">
    <link rel="alternate" hreflang="en" href="https://netsalaire.com/en/global-comparison/">
    <link rel="alternate" hreflang="x-default" href="https://netsalaire.com/fr/comparateur-global/">

    <!-- Open Graph -->
    <meta property="og:title" content="Global comparison â€” Net salary & taxes by country (2026) | NetSalaire">
    <meta property="og:description" content="Compare take-home pay (2026) by country: France, Morocco, Dubai, UK, Singapore, Genevaâ€¦ Tax & contributions breakdown.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://netsalaire.com/en/global-comparison/">
    <meta property="og:image" content="https://netsalaire.com/assets/images/og-comparateur-global.png">
    <meta property="og:site_name" content="NetSalaire">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="fr_FR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Global comparison â€” Net salary & taxes by country (2026)">
    <meta name="twitter:description" content="Compare take-home pay (2026) by country: France, Morocco, Dubai, UK, Singapore, Genevaâ€¦">

    <!-- Additional SEO -->
    <meta name="robots" content="index, follow">
    <meta name="author" content="NetSalaire">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="48x48" href="/assets/images/favicon-48.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicon-192.png">
    <link rel="apple-touch-icon" href="/assets/images/favicon-192.png">

    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <link href="/assets/css/tailwind.min.css" rel="stylesheet">
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; }
        .transition-all-300 { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .country-checkbox:checked + .country-label {
            border-color: #10b981;
            background-color: #ecfdf5;
        }
        .country-checkbox:checked + .country-label .country-check {
            opacity: 1;
        }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        /* Teal colors for India */
        .bg-teal-500 { background-color: #14b8a6; }
        .bg-teal-50 { background-color: #f0fdfa; }
        .text-teal-600 { color: #0d9488; }
        .border-teal-200 { border-color: #99f6e4; }
        /* Lime colors for Pakistan */
        .bg-lime-500 { background-color: #84cc16; }
        .bg-lime-50 { background-color: #f7fee7; }
        .text-lime-600 { color: #65a30d; }
        .border-lime-200 { border-color: #d9f99d; }
        /* Cyan colors for Mexico */
        .bg-cyan-500 { background-color: #06b6d4; }
        .bg-cyan-50 { background-color: #ecfeff; }
        .text-cyan-600 { color: #0891b2; }
        .border-cyan-200 { border-color: #a5f3fc; }
        /* Fuchsia colors for Brazil */
        .bg-fuchsia-500 { background-color: #d946ef; }
        .bg-fuchsia-50 { background-color: #fdf4ff; }
        .text-fuchsia-600 { color: #c026d3; }
        .border-fuchsia-200 { border-color: #f5d0fe; }
        /* Grid 8 columns for 16 countries on 2 rows */
        .grid-cols-8 { grid-template-columns: repeat(8, minmax(0, 1fr)); }
        @media (min-width: 768px) {
            .md\:grid-cols-8 { grid-template-columns: repeat(8, minmax(0, 1fr)); }
        }
    </style>

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "International Tax Comparator",
        "description": "Tax simulator to compare net salary across 14 countries: France, Morocco, Dubai, UK, Singapore, New York, Shanghai, Geneva, Luxembourg, Saudi Arabia, Japan, Spain, India and Pakistan. 2026 rates.",
        "url": "https://netsalaire.com/en/global-comparison/",
        "inLanguage": "en",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR"
        }
    }
    </script>
</head>
<body class="bg-slate-50 text-slate-900">
    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 border-b border-slate-200 bg-white/80 backdrop-blur-md">
        <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
            <a href="/en/" class="flex items-center gap-2 group">
                <div class="w-8 h-8 bg-slate-900 rounded flex items-center justify-center text-white font-semibold tracking-tighter shadow-md group-hover:bg-indigo-600 transition-colors duration-300">
                    N.
                </div>
                <span class="font-semibold tracking-tight text-slate-900">NetSalaire</span>
            </a>
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-slate-600">
                <!-- France Dropdown -->
                <div class="relative group">
                    <a href="/en/#france" class="hover:text-slate-900 transition-colors flex items-center gap-1.5 py-2">
                        <iconify-icon icon="circle-flags:fr" width="16"></iconify-icon> France
                        <iconify-icon icon="lucide:chevron-down" width="14" class="text-slate-400 group-hover:text-slate-600 transition-transform group-hover:rotate-180"></iconify-icon>
                    </a>
                    <div class="absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                        <div class="bg-white border border-slate-200 rounded-lg shadow-lg py-2 min-w-[220px]">
                            <a href="/en/france/income-tax/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:landmark" width="18" class="text-indigo-500"></iconify-icon>
                                Tax Simulator
                            </a>
                            <a href="/en/france/gross-to-net/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:calculator" width="18" class="text-indigo-500"></iconify-icon>
                                Gross to Net
                            </a>
                            <a href="/en/france/tax-guide/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:book-open" width="18" class="text-indigo-500"></iconify-icon>
                                Tax Guide
                            </a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/en/france/unemployment-calculator/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ“‰</span>
                                Unemployment
                            </a>
                            <a href="/en/france/severance-calculator/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ“‹</span>
                                Severance
                            </a>
                            <a href="/en/france/mutual-termination-calculator/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ¤</span>
                                Mutual Termination
                            </a>
                            <a href="/en/france/housing-benefit-calculator/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ </span>
                                Housing Aid
                            </a>
                            <a href="/en/france/daycare-calculator/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ‘¶</span>
                                Daycare
                            </a>
                            <a href="/en/france/mileage-calculator/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸš—</span>
                                Mileage
                            </a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/en/france-morocco-comparison/" class="flex items-center gap-3 px-4 py-2 text-indigo-600 hover:bg-indigo-50 hover:text-indigo-700 transition-colors text-sm font-medium">
                                <span class="w-[18px] text-center">ğŸ”€</span>
                                Compare France vs Morocco
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Morocco Dropdown -->
                <div class="relative group">
                    <a href="/en/#morocco" class="hover:text-slate-900 transition-colors flex items-center gap-1.5 py-2">
                        <iconify-icon icon="circle-flags:ma" width="16"></iconify-icon> Morocco
                        <iconify-icon icon="lucide:chevron-down" width="14" class="text-slate-400 group-hover:text-slate-600 transition-transform group-hover:rotate-180"></iconify-icon>
                    </a>
                    <div class="absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                        <div class="bg-white border border-slate-200 rounded-lg shadow-lg py-2 min-w-[220px]">
                            <a href="/en/morocco/income-tax/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:landmark" width="18" class="text-emerald-500"></iconify-icon>
                                Tax Simulator
                            </a>
                            <a href="/en/morocco/gross-to-net/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:calculator" width="18" class="text-emerald-500"></iconify-icon>
                                Gross to Net
                            </a>
                            <a href="/en/morocco/tax-guide/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:book-open" width="18" class="text-emerald-500"></iconify-icon>
                                Tax Guide
                            </a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/en/france-morocco-comparison/" class="flex items-center gap-3 px-4 py-2 text-emerald-600 hover:bg-emerald-50 hover:text-emerald-700 transition-colors text-sm font-medium">
                                <span class="w-[18px] text-center">ğŸ”€</span>
                                Compare France vs Morocco
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Mega-menu All Countries -->
                <div class="relative group">
                    <button class="hover:text-slate-900 transition-colors flex items-center gap-1.5 py-2 text-sm font-medium text-slate-600">
                        <iconify-icon icon="lucide:globe" width="16"></iconify-icon> All Countries
                        <iconify-icon icon="lucide:chevron-down" width="14" class="text-slate-400 group-hover:text-slate-600 transition-transform group-hover:rotate-180"></iconify-icon>
                    </button>
                    <div class="absolute top-full right-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                        <div class="bg-white border border-slate-200 rounded-xl shadow-xl py-5 px-6 w-[480px]" style="max-height: 75vh; overflow-y: auto;">
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Europe</div>
                            <div class="grid grid-cols-2 gap-x-8 gap-y-1 mb-4">
                                <a href="/en/france/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡«ğŸ‡·</span> France</a>
                                <a href="/en/spain/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡ªğŸ‡¸</span> Spain</a>
                                <a href="/en/uk/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¬ğŸ‡§</span> United Kingdom</a>
                                <a href="/en/germany/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡©ğŸ‡ª</span> Germany</a>
                                <a href="/en/italy/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡¹</span> Italy</a>
                                <a href="/en/netherlands/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡³ğŸ‡±</span> Netherlands</a>
                                <a href="/en/switzerland/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡­</span> Switzerland</a>
                                <a href="/en/portugal/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡¹</span> Portugal</a>
                                <a href="/en/belgium/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡§ğŸ‡ª</span> Belgium</a>
                                <a href="/en/luxembourg/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡±ğŸ‡º</span> Luxembourg</a>
                                <a href="/en/austria/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡¹</span> Austria</a>
                                <a href="/en/ireland/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡ª</span> Ireland</a>
                                <a href="/en/sweden/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¸ğŸ‡ª</span> Sweden</a>
                                <a href="/en/norway/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡³ğŸ‡´</span> Norway</a>
                                <a href="/en/denmark/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡©ğŸ‡°</span> Denmark</a>
                                <a href="/en/finland/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡«ğŸ‡®</span> Finland</a>
                                <a href="/en/greece/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¬ğŸ‡·</span> Greece</a>
                                <a href="/en/poland/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡±</span> Poland</a>
                                <a href="/en/czech-republic/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡¿</span> Czech Republic</a>
                                <a href="/en/hungary/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡­ğŸ‡º</span> Hungary</a>
                                <a href="/en/romania/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡·ğŸ‡´</span> Romania</a>
                                <a href="/en/croatia/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡­ğŸ‡·</span> Croatia</a>
                                <a href="/en/turkey/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¹ğŸ‡·</span> Turkey</a>
                            </div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Americas</div>
                            <div class="grid grid-cols-2 gap-x-8 gap-y-1 mb-4">
                                <a href="/en/usa/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡ºğŸ‡¸</span> USA</a>
                                <a href="/en/canada/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡¦</span> Canada</a>
                                <a href="/en/brazil/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡§ğŸ‡·</span> Brazil</a>
                                <a href="/en/mexico/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡²ğŸ‡½</span> Mexico</a>
                                <a href="/en/argentina/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡·</span> Argentina</a>
                                <a href="/en/chile/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡±</span> Chile</a>
                                <a href="/en/colombia/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡´</span> Colombia</a>
                                <a href="/en/peru/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡ª</span> Peru</a>
                            </div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Asia-Pacific</div>
                            <div class="grid grid-cols-2 gap-x-8 gap-y-1 mb-4">
                                <a href="/en/japan/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¯ğŸ‡µ</span> Japan</a>
                                <a href="/en/south-korea/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡°ğŸ‡·</span> South Korea</a>
                                <a href="/en/china/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡³</span> China</a>
                                <a href="/en/singapore/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¸ğŸ‡¬</span> Singapore</a>
                                <a href="/en/australia/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡º</span> Australia</a>
                                <a href="/en/hong-kong/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡­ğŸ‡°</span> Hong Kong</a>
                                <a href="/en/india/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡³</span> India</a>
                                <a href="/en/new-zealand/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡³ğŸ‡¿</span> New Zealand</a>
                                <a href="/en/indonesia/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡©</span> Indonesia</a>
                                <a href="/en/malaysia/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡²ğŸ‡¾</span> Malaysia</a>
                                <a href="/en/thailand/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¹ğŸ‡­</span> Thailand</a>
                                <a href="/en/pakistan/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡°</span> Pakistan</a>
                                <a href="/en/philippines/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡­</span> Philippines</a>
                                <a href="/en/vietnam/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡»ğŸ‡³</span> Vietnam</a>
                            </div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">Middle East & Africa</div>
                            <div class="grid grid-cols-2 gap-x-8 gap-y-1 mb-4">
                                <a href="/en/morocco/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡²ğŸ‡¦</span> Morocco</a>
                                <a href="/en/dubai/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡ª</span> UAE</a>
                                <a href="/en/saudi-arabia/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¸ğŸ‡¦</span> Saudi Arabia</a>
                                <a href="/en/qatar/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¶ğŸ‡¦</span> Qatar</a>
                                <a href="/en/kuwait/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡°ğŸ‡¼</span> Kuwait</a>
                                <a href="/en/egypt/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡ªğŸ‡¬</span> Egypt</a>
                                <a href="/en/south-africa/income-tax/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¿ğŸ‡¦</span> South Africa</a>
                            </div>
                            <div class="border-t border-slate-100 pt-3">
                                <a href="/en/global-comparison/" class="flex items-center gap-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 transition-colors">
                                    <iconify-icon icon="lucide:bar-chart-3" width="16"></iconify-icon> ğŸ“Š Compare all countries â†’
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="/en/faq/" class="hover:text-slate-900 transition-colors">FAQ</a>
            </div>
            <div class="flex items-center gap-3">
                <!-- Language Switcher -->
                <div class="relative">
                    <button onclick="document.getElementById('lang-dropdown-page').classList.toggle('hidden')" class="flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:text-slate-900 bg-slate-100 hover:bg-slate-200 border border-slate-200 rounded-full transition-all" title="Switch language">
                        <span class="lang-flag">ğŸ‡¬ğŸ‡§</span>
                        <iconify-icon icon="lucide:chevron-down" width="14"></iconify-icon>
                    </button>
                    <div id="lang-dropdown-page" class="hidden absolute top-full right-0 mt-2 bg-white border border-slate-200 rounded-lg shadow-lg min-w-[140px] py-1 z-50">
                        <a href="/fr/comparateur-global/" class="w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 transition-colors">
                            <span>ğŸ‡«ğŸ‡·</span> Francais
                        </a>
                        <a href="/en/global-comparison/" class="w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 bg-slate-50 transition-colors">
                            <span>ğŸ‡¬ğŸ‡§</span> English
                        </a>
                    </div>
                </div>
                <!-- Mobile Menu Button -->
                <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="md:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors">
                    <iconify-icon icon="lucide:menu" width="24"></iconify-icon>
                </button>
            </div>
        </div>
        <!-- Mobile Menu (Accordions) -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-200">
            <div class="px-6 py-4 space-y-1">
                <!-- France Accordion -->
                <div>
                    <button onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('.chevron-icon').classList.toggle('rotate-180')" class="w-full flex items-center justify-between py-3 text-sm font-semibold text-slate-900">
                        <span class="flex items-center gap-2">
                            <iconify-icon icon="circle-flags:fr" width="18"></iconify-icon> France
                        </span>
                        <iconify-icon icon="lucide:chevron-down" width="16" class="chevron-icon text-slate-400 transition-transform duration-200"></iconify-icon>
                    </button>
                    <div class="hidden pl-6 pb-3 space-y-2">
                        <a href="/en/france/income-tax/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <iconify-icon icon="lucide:landmark" width="16" class="text-indigo-500"></iconify-icon> Tax Simulator
                        </a>
                        <a href="/en/france/gross-to-net/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <iconify-icon icon="lucide:calculator" width="16" class="text-indigo-500"></iconify-icon> Gross to Net
                        </a>
                        <a href="/en/france/tax-guide/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <iconify-icon icon="lucide:book-open" width="16" class="text-indigo-500"></iconify-icon> Tax Guide
                        </a>
                        <a href="/en/france/unemployment-calculator/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <span>ğŸ“‰</span> Unemployment
                        </a>
                        <a href="/en/france/severance-calculator/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <span>ğŸ“‹</span> Severance
                        </a>
                        <a href="/en/france/mutual-termination-calculator/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <span>ğŸ¤</span> Mutual Termination
                        </a>
                        <a href="/en/france/housing-benefit-calculator/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <span>ğŸ </span> Housing Aid
                        </a>
                        <a href="/en/france/daycare-calculator/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <span>ğŸ‘¶</span> Daycare
                        </a>
                        <a href="/en/france/mileage-calculator/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 py-1">
                            <span>ğŸš—</span> Mileage
                        </a>
                        <div class="border-t border-slate-100 my-1"></div>
                        <a href="/en/france-morocco-comparison/" class="flex items-center gap-2 text-sm text-indigo-600 font-medium py-1">
                            <span>ğŸ”€</span> Compare France vs Morocco
                        </a>
                    </div>
                </div>
                <!-- Morocco Accordion -->
                <div>
                    <button onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('.chevron-icon').classList.toggle('rotate-180')" class="w-full flex items-center justify-between py-3 text-sm font-semibold text-slate-900 border-t border-slate-100">
                        <span class="flex items-center gap-2">
                            <iconify-icon icon="circle-flags:ma" width="18"></iconify-icon> Morocco
                        </span>
                        <iconify-icon icon="lucide:chevron-down" width="16" class="chevron-icon text-slate-400 transition-transform duration-200"></iconify-icon>
                    </button>
                    <div class="hidden pl-6 pb-3 space-y-2">
                        <a href="/en/morocco/income-tax/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-emerald-600 py-1">
                            <iconify-icon icon="lucide:landmark" width="16" class="text-emerald-500"></iconify-icon> Tax Simulator
                        </a>
                        <a href="/en/morocco/gross-to-net/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-emerald-600 py-1">
                            <iconify-icon icon="lucide:calculator" width="16" class="text-emerald-500"></iconify-icon> Gross to Net
                        </a>
                        <a href="/en/morocco/tax-guide/" class="flex items-center gap-2 text-sm text-slate-600 hover:text-emerald-600 py-1">
                            <iconify-icon icon="lucide:book-open" width="16" class="text-emerald-500"></iconify-icon> Tax Guide
                        </a>
                        <div class="border-t border-slate-100 my-1"></div>
                        <a href="/en/france-morocco-comparison/" class="flex items-center gap-2 text-sm text-emerald-600 font-medium py-1">
                            <span>ğŸ”€</span> Compare France vs Morocco
                        </a>
                    </div>
                </div>
                <!-- All Countries Accordion -->
                <div>
                    <button onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('.chevron-icon').classList.toggle('rotate-180')" class="w-full flex items-center justify-between py-3 text-sm font-semibold text-slate-900 border-t border-slate-100">
                        <span class="flex items-center gap-2">
                            <iconify-icon icon="lucide:globe" width="18"></iconify-icon> All Countries
                        </span>
                        <iconify-icon icon="lucide:chevron-down" width="16" class="chevron-icon text-slate-400 transition-transform duration-200"></iconify-icon>
                    </button>
                    <div class="hidden pl-4 pb-3 space-y-3">
                        <div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">â­ Popular</div>
                            <div class="grid grid-cols-2 gap-1">
                                <a href="/en/france/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡«ğŸ‡· France</a>
                                <a href="/en/morocco/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡²ğŸ‡¦ Morocco</a>
                                <a href="/en/usa/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡ºğŸ‡¸ USA</a>
                                <a href="/en/uk/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¬ğŸ‡§ United Kingdom</a>
                                <a href="/en/switzerland/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¨ğŸ‡­ Switzerland</a>
                                <a href="/en/dubai/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¦ğŸ‡ª Dubai</a>
                            </div>
                        </div>
                        <div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Europe</div>
                            <div class="grid grid-cols-2 gap-1">
                                <a href="/en/germany/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡©ğŸ‡ª Germany</a>
                                <a href="/en/belgium/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡§ğŸ‡ª Belgium</a>
                                <a href="/en/spain/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡ªğŸ‡¸ Spain</a>
                                <a href="/en/italy/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡®ğŸ‡¹ Italy</a>
                                <a href="/en/netherlands/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡³ğŸ‡± Netherlands</a>
                                <a href="/en/portugal/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡µğŸ‡¹ Portugal</a>
                                <a href="/en/sweden/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¸ğŸ‡ª Sweden</a>
                                <a href="/en/norway/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡³ğŸ‡´ Norway</a>
                                <a href="/en/denmark/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡©ğŸ‡° Denmark</a>
                                <a href="/en/ireland/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡®ğŸ‡ª Ireland</a>
                                <a href="/en/luxembourg/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡±ğŸ‡º Luxembourg</a>
                                <a href="/en/austria/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¦ğŸ‡¹ Austria</a>
                                <a href="/en/finland/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡«ğŸ‡® Finland</a>
                                <a href="/en/poland/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡µğŸ‡± Poland</a>
                                <a href="/en/greece/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¬ğŸ‡· Greece</a>
                                <a href="/en/czech-republic/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¨ğŸ‡¿ Czech Republic</a>
                                <a href="/en/hungary/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡­ğŸ‡º Hungary</a>
                                <a href="/en/romania/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡·ğŸ‡´ Romania</a>
                                <a href="/en/croatia/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡­ğŸ‡· Croatia</a>
                            </div>
                        </div>
                        <div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Americas</div>
                            <div class="grid grid-cols-2 gap-1">
                                <a href="/en/usa/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡ºğŸ‡¸ USA</a>
                                <a href="/en/canada/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¨ğŸ‡¦ Canada</a>
                                <a href="/en/mexico/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡²ğŸ‡½ Mexico</a>
                                <a href="/en/brazil/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡§ğŸ‡· Brazil</a>
                                <a href="/en/argentina/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¦ğŸ‡· Argentina</a>
                                <a href="/en/chile/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¨ğŸ‡± Chile</a>
                                <a href="/en/colombia/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¨ğŸ‡´ Colombia</a>
                                <a href="/en/peru/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡µğŸ‡ª Peru</a>
                            </div>
                        </div>
                        <div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Asia & Middle East</div>
                            <div class="grid grid-cols-2 gap-1">
                                <a href="/en/japan/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¯ğŸ‡µ Japan</a>
                                <a href="/en/china/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¨ğŸ‡³ China</a>
                                <a href="/en/south-korea/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡°ğŸ‡· South Korea</a>
                                <a href="/en/india/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡®ğŸ‡³ India</a>
                                <a href="/en/singapore/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¸ğŸ‡¬ Singapore</a>
                                <a href="/en/hong-kong/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡­ğŸ‡° Hong Kong</a>
                                <a href="/en/dubai/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¦ğŸ‡ª Dubai</a>
                                <a href="/en/qatar/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¶ğŸ‡¦ Qatar</a>
                                <a href="/en/kuwait/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡°ğŸ‡¼ Kuwait</a>
                                <a href="/en/saudi-arabia/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¸ğŸ‡¦ Saudi Arabia</a>
                                <a href="/en/turkey/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¹ğŸ‡· Turkey</a>
                                <a href="/en/indonesia/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡®ğŸ‡© Indonesia</a>
                                <a href="/en/malaysia/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡²ğŸ‡¾ Malaysia</a>
                                <a href="/en/pakistan/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡µğŸ‡° Pakistan</a>
                                <a href="/en/thailand/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¹ğŸ‡­ Thailand</a>
                                <a href="/en/philippines/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡µğŸ‡­ Philippines</a>
                                <a href="/en/vietnam/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡»ğŸ‡³ Vietnam</a>
                                <a href="/en/egypt/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡ªğŸ‡¬ Egypt</a>
                            </div>
                        </div>
                        <div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Africa & Oceania</div>
                            <div class="grid grid-cols-2 gap-1">
                                <a href="/en/south-africa/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¿ğŸ‡¦ South Africa</a>
                                <a href="/en/australia/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡¦ğŸ‡º Australia</a>
                                <a href="/en/new-zealand/income-tax/" class="text-sm text-slate-600 hover:text-slate-900 py-1">ğŸ‡³ğŸ‡¿ New Zealand</a>
                            </div>
                        </div>
                        <div class="border-t border-slate-100 pt-2">
                            <a href="/en/global-comparison/" class="flex items-center gap-2 text-sm font-medium text-indigo-600">
                                ğŸ“Š Compare all countries â†’
                            </a>
                        </div>
                    </div>
                </div>
                <!-- FAQ & other links -->
                <div class="border-t border-slate-100">
                    <a href="/en/faq/" class="flex items-center gap-2 py-3 text-sm font-semibold text-slate-900">
                        <iconify-icon icon="lucide:help-circle" width="18"></iconify-icon> FAQ
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="w-full max-w-7xl mx-auto space-y-6 pt-24 pb-8 px-4 sm:px-6 lg:px-8">

        <!-- Page Header -->
        <header class="text-center mb-8">
            <div class="inline-flex items-center gap-2 rounded-full bg-emerald-50 border border-emerald-200 px-4 py-1.5 mb-4">
                <span class="iconify text-emerald-600" data-icon="lucide:globe" width="16"></span>
                <span class="text-sm font-medium text-emerald-700">14 countries - 2026 Rates</span>
            </div>
            <h1 class="text-2xl md:text-4xl font-bold text-slate-900 mb-3">International Tax Comparator</h1>
            <p class="text-slate-500 max-w-2xl mx-auto">Select countries to compare and discover where your net salary will be most advantageous.</p>
        </header>

        <!-- Country Selector -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center gap-2 mb-4">
                <span class="iconify text-slate-400" data-icon="lucide:map-pin" width="18"></span>
                <h2 class="text-sm font-semibold uppercase tracking-wide text-slate-500">Select countries to compare (max 4)</h2>
            </div>

            <div class="grid grid-cols-4 sm:grid-cols-5 md:grid-cols-8 gap-2">
                <!-- France -->
                <div class="relative">
                    <input type="checkbox" id="country-fr" class="country-checkbox sr-only" checked data-country="fr">
                    <label for="country-fr" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡«ğŸ‡·</span>
                        <span class="text-xs font-semibold text-slate-700">France</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 0-45%</span>
                    </label>
                </div>

                <!-- Morocco -->
                <div class="relative">
                    <input type="checkbox" id="country-ma" class="country-checkbox sr-only" checked data-country="ma">
                    <label for="country-ma" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡²ğŸ‡¦</span>
                        <span class="text-xs font-semibold text-slate-700">Morocco</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 0-37%</span>
                    </label>
                </div>

                <!-- Dubai -->
                <div class="relative">
                    <input type="checkbox" id="country-ae" class="country-checkbox sr-only" data-country="ae">
                    <label for="country-ae" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡¦ğŸ‡ª</span>
                        <span class="text-xs font-semibold text-slate-700">Dubai</span>
                        <span class="text-[10px] text-emerald-500 font-bold">0% TAX</span>
                    </label>
                </div>

                <!-- Switzerland (Geneva) -->
                <div class="relative">
                    <input type="checkbox" id="country-ch" class="country-checkbox sr-only" data-country="ch">
                    <label for="country-ch" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡¨ğŸ‡­</span>
                        <span class="text-xs font-semibold text-slate-700">Geneva</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 0-48%</span>
                    </label>
                </div>

                <!-- Luxembourg -->
                <div class="relative">
                    <input type="checkbox" id="country-lu" class="country-checkbox sr-only" data-country="lu">
                    <label for="country-lu" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡±ğŸ‡º</span>
                        <span class="text-xs font-semibold text-slate-700">Luxembourg</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 0-42%</span>
                    </label>
                </div>

                <!-- UK -->
                <div class="relative">
                    <input type="checkbox" id="country-uk" class="country-checkbox sr-only" data-country="uk">
                    <label for="country-uk" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡¬ğŸ‡§</span>
                        <span class="text-xs font-semibold text-slate-700">United Kingdom</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 0-45%</span>
                    </label>
                </div>

                <!-- KSA (Saudi Arabia) -->
                <div class="relative">
                    <input type="checkbox" id="country-sa" class="country-checkbox sr-only" data-country="sa">
                    <label for="country-sa" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡¸ğŸ‡¦</span>
                        <span class="text-xs font-semibold text-slate-700">Saudi Arabia</span>
                        <span class="text-[10px] text-emerald-500 font-bold">0% TAX</span>
                    </label>
                </div>

                <!-- Singapore -->
                <div class="relative">
                    <input type="checkbox" id="country-sg" class="country-checkbox sr-only" data-country="sg">
                    <label for="country-sg" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡¸ğŸ‡¬</span>
                        <span class="text-xs font-semibold text-slate-700">Singapore</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 0-24%</span>
                    </label>
                </div>

                <!-- New York (USA) -->
                <div class="relative">
                    <input type="checkbox" id="country-us" class="country-checkbox sr-only" data-country="us">
                    <label for="country-us" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡ºğŸ‡¸</span>
                        <span class="text-xs font-semibold text-slate-700">New York</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 10-52%</span>
                    </label>
                </div>

                <!-- Shanghai (China) -->
                <div class="relative">
                    <input type="checkbox" id="country-cn" class="country-checkbox sr-only" data-country="cn">
                    <label for="country-cn" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡¨ğŸ‡³</span>
                        <span class="text-xs font-semibold text-slate-700">Shanghai</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 3-45%</span>
                    </label>
                </div>

                <!-- Japan -->
                <div class="relative">
                    <input type="checkbox" id="country-jp" class="country-checkbox sr-only" data-country="jp">
                    <label for="country-jp" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡¯ğŸ‡µ</span>
                        <span class="text-xs font-semibold text-slate-700">Japan</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 5-55%</span>
                    </label>
                </div>

                <!-- Spain -->
                <div class="relative">
                    <input type="checkbox" id="country-es" class="country-checkbox sr-only" data-country="es">
                    <label for="country-es" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡ªğŸ‡¸</span>
                        <span class="text-xs font-semibold text-slate-700">Spain</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 19-47%</span>
                    </label>
                </div>

                <!-- India -->
                <div class="relative">
                    <input type="checkbox" id="country-in" class="country-checkbox sr-only" data-country="in">
                    <label for="country-in" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡®ğŸ‡³</span>
                        <span class="text-xs font-semibold text-slate-700">India</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 5-30%</span>
                    </label>
                </div>

                <!-- Pakistan -->
                <div class="relative">
                    <input type="checkbox" id="country-pk" class="country-checkbox sr-only" data-country="pk">
                    <label for="country-pk" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡µğŸ‡°</span>
                        <span class="text-xs font-semibold text-slate-700">Pakistan</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 2.5-35%</span>
                    </label>
                </div>

                <!-- Mexico -->
                <div class="relative">
                    <input type="checkbox" id="country-mx" class="country-checkbox sr-only" data-country="mx">
                    <label for="country-mx" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡²ğŸ‡½</span>
                        <span class="text-xs font-semibold text-slate-700">Mexico</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 1.9-35%</span>
                    </label>
                </div>

                <!-- Brazil -->
                <div class="relative">
                    <input type="checkbox" id="country-br" class="country-checkbox sr-only" data-country="br">
                    <label for="country-br" class="country-label flex flex-col items-center gap-1 p-2.5 rounded-lg border-2 border-slate-200 cursor-pointer hover:border-slate-300 transition-all-300 relative">
                        <div class="country-check absolute top-1 right-1 w-4 h-4 bg-emerald-500 rounded-full flex items-center justify-center opacity-0 transition-opacity">
                            <span class="iconify text-white" data-icon="lucide:check" width="10"></span>
                        </div>
                        <span class="text-2xl">ğŸ‡§ğŸ‡·</span>
                        <span class="text-xs font-semibold text-slate-700">Brazil</span>
                        <span class="text-[10px] text-slate-400 font-medium">IT 7.5-27.5%</span>
                    </label>
                </div>
            </div>
        </section>

        <!-- Input Section -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 via-amber-400 to-indigo-500"></div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Salary Input -->
                <div class="space-y-5">
                    <div class="flex items-center justify-between mb-2">
                        <label class="text-xs font-semibold uppercase tracking-tight text-slate-500">Annual Gross Salary</label>
                        <div class="flex bg-slate-100 rounded-lg p-0.5">
                            <button id="period-annual" class="px-3 py-1 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 transition-all-300">Annual</button>
                            <button id="period-monthly" class="px-3 py-1 text-xs font-medium rounded-md text-slate-500 hover:text-slate-900 transition-all-300">Monthly</button>
                        </div>
                    </div>

                    <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-semibold text-lg">â‚¬</span>
                        <input type="text" inputmode="numeric" id="input-salary" value="100 000" class="w-full pl-12 pr-6 py-4 text-2xl font-bold text-slate-900 bg-white border-2 border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all-300" placeholder="0">
                    </div>

                    <p class="text-xs text-slate-400">Salary is converted to each local currency for calculations.</p>
                </div>

                <!-- Family Situation -->
                <div class="space-y-5 lg:border-l lg:border-slate-100 lg:pl-8">
                    <label class="block text-xs font-semibold uppercase tracking-tight text-slate-500 mb-2">Family Status</label>

                    <div class="space-y-4">
                        <div>
                            <span class="text-xs font-medium text-slate-600 mb-2 block">Marital Status</span>
                            <div class="flex w-full bg-slate-50 border border-slate-200 rounded-lg p-1">
                                <button id="status-single" class="flex-1 py-2 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 border border-slate-100 transition-all-300">Single</button>
                                <button id="status-married" class="flex-1 py-2 text-xs font-medium rounded-md text-slate-500 hover:text-slate-900 transition-all-300">Married</button>
                            </div>
                        </div>

                        <div>
                            <span class="text-xs font-medium text-slate-600 mb-2 block">Dependent children</span>
                            <div class="flex items-center w-full bg-white border border-slate-200 rounded-lg h-[42px]">
                                <button id="child-minus" class="w-12 h-full flex items-center justify-center text-slate-400 hover:text-slate-900 hover:bg-slate-50 rounded-l-lg transition-colors border-r border-slate-100">
                                    <span class="iconify" data-icon="lucide:minus" width="16"></span>
                                </button>
                                <div id="children-display" class="flex-1 text-center text-lg font-bold text-slate-900 select-none">0</div>
                                <button id="child-plus" class="w-12 h-full flex items-center justify-center text-slate-400 hover:text-slate-900 hover:bg-slate-50 rounded-r-lg transition-colors border-l border-slate-100">
                                    <span class="iconify" data-icon="lucide:plus" width="16"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Grid -->
        <div id="results-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Country cards will be generated by JS -->
        </div>

        <!-- Net Salary Ranking Banner -->
        <div id="verdict-banner" class="bg-slate-900 text-white rounded-xl shadow-lg p-6">
            <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                <div class="flex items-center gap-4">
                    <span class="iconify w-10 h-10 text-yellow-400" data-icon="lucide:banknote"></span>
                    <div>
                        <h3 class="font-bold text-xl tracking-tight" id="verdict-title">Net Salary (Absolute Value)</h3>
                        <p class="text-sm text-slate-400" id="verdict-text">Select at least 2 countries to compare.</p>
                    </div>
                </div>
                <div id="ranking-list" class="flex flex-nowrap gap-2 justify-center md:justify-end overflow-x-auto">
                    <!-- Ranking badges will be generated by JS -->
                </div>
            </div>
        </div>

        <!-- PPP Purchasing Power Ranking Banner -->
        <div id="ppp-banner" class="bg-slate-800 text-white rounded-xl shadow-lg p-6">
            <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                <div class="flex items-center gap-4">
                    <span class="iconify w-10 h-10 text-green-400" data-icon="lucide:shopping-cart"></span>
                    <div>
                        <h3 class="font-bold text-xl tracking-tight" id="ppp-title">Real Purchasing Power (PPP Adjusted)</h3>
                        <p class="text-sm text-slate-400" id="ppp-text">How much you can actually buy with this salary based on local cost of living.</p>
                    </div>
                </div>
                <div id="ppp-ranking-list" class="flex flex-nowrap gap-2 justify-center md:justify-end overflow-x-auto">
                    <!-- PPP Ranking badges will be generated by JS -->
                </div>
            </div>
        </div>

        <!-- Reassurance -->
        <section class="bg-white rounded-xl border border-slate-200 p-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div>
                    <div class="text-2xl mb-2">ğŸŒ</div>
                    <h4 class="text-sm font-semibold text-slate-900">12 Countries</h4>
                    <p class="text-xs text-slate-500">International comparison</p>
                </div>
                <div>
                    <div class="text-2xl mb-2">ğŸ“Š</div>
                    <h4 class="text-sm font-semibold text-slate-900">2026 Rates</h4>
                    <p class="text-xs text-slate-500">Up-to-date data</p>
                </div>
                <div>
                    <div class="text-2xl mb-2">âš¡</div>
                    <h4 class="text-sm font-semibold text-slate-900">Real Time</h4>
                    <p class="text-xs text-slate-500">Instant calculation</p>
                </div>
                <div>
                    <div class="text-2xl mb-2">ğŸ”’</div>
                    <h4 class="text-sm font-semibold text-slate-900">100% Private</h4>
                    <p class="text-xs text-slate-500">No data stored</p>
                </div>
            </div>
        </section>

        <p class="text-center text-[10px] text-slate-400 mt-8 pb-4 max-w-3xl mx-auto leading-relaxed">
            Legal Disclaimer: This tool is provided for informational purposes only. Tax laws vary by country and are subject to change.
            Dubai and Saudi Arabia: 0% income tax. Singapore: IT + CPF. New York: Federal + State + City tax. Shanghai: IT + Social Insurance.
            UK: PAYE + NI. Geneva: cantonal + communal. Luxembourg: 2026 rates class 1. Japan: IT + local tax + social insurance. Spain: IRPF + social security. France and Morocco: official 2026 rates.
        </p>

        <!-- SEO Content Section -->
        <section class="bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mt-8">
            <h2 class="text-2xl font-bold text-slate-900 mb-6">Understanding International Taxation: Complete Guide</h2>

            <div class="prose prose-slate max-w-none">
                <h3 class="text-xl font-semibold text-slate-800 mt-6 mb-3">What is Tax Burden?</h3>
                <p class="text-slate-600 mb-4">
                    <strong>Tax burden</strong> represents the total percentage of your gross salary that is deducted in the form of social contributions and taxes. It varies considerably from country to country: from 0% in tax havens like Dubai or Saudi Arabia, to over 50% in some European countries for high earners.
                </p>
                <p class="text-slate-600 mb-4">
                    Our international tax comparator allows you to instantly visualize your <strong>net salary</strong> in 14 different countries, taking into account the specificities of each tax system: progressive income tax, social contributions, local taxes (like in New York or Japan), or mandatory contributions (CPF in Singapore, CNSS in Morocco).
                </p>

                <h3 class="text-xl font-semibold text-slate-800 mt-8 mb-3">Why Compare Tax Systems?</h3>
                <p class="text-slate-600 mb-4">
                    <strong>Tax expatriation</strong> is a major decision that requires thorough analysis. Beyond net salary, you must consider the cost of living, quality of public services, and social benefits. A country without income tax may have high healthcare or education costs.
                </p>
                <p class="text-slate-600 mb-4">
                    This comparator is particularly useful for <strong>expats</strong>, <strong>digital nomads</strong>, <strong>international executives</strong> on the move, or simply to understand how France compares to other countries.
                </p>

                <h3 class="text-xl font-semibold text-slate-800 mt-8 mb-3">Different Tax Systems Explained</h3>
                <ul class="list-disc pl-6 text-slate-600 space-y-2 mb-6">
                    <li><strong>France</strong>: Progressive IT (0-45%) + social contributions (~22-25%)</li>
                    <li><strong>Morocco</strong>: Progressive IT (0-37%) + CNSS/AMO (~6.7%)</li>
                    <li><strong>Dubai/Saudi Arabia</strong>: 0% income tax for residents</li>
                    <li><strong>Singapore</strong>: Low progressive IT (0-24%) + CPF (20% capped)</li>
                    <li><strong>UK</strong>: PAYE (0-45%) + National Insurance (~8%)</li>
                    <li><strong>New York</strong>: Federal (10-37%) + State (4-10.9%) + City (~3.5%)</li>
                    <li><strong>Shanghai</strong>: Progressive IT (3-45%) + social insurance (~10.5%)</li>
                    <li><strong>Geneva</strong>: Progressive IT + cantonal and communal taxes</li>
                    <li><strong>Luxembourg</strong>: Progressive IT (0-42%) + social contributions (~13%)</li>
                    <li><strong>Japan</strong>: Progressive IT (5-45%) + local tax (~10%) + social insurance (~15%)</li>
                    <li><strong>Spain</strong>: Progressive IRPF (19-47%) + social security (~6.35%)</li>
                </ul>
            </div>
        </section>

        <!-- Examples Section -->
        <section class="bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl p-8 mt-8">
            <h2 class="text-2xl font-bold text-slate-900 mb-6">3 Concrete Comparison Examples</h2>

            <div class="grid md:grid-cols-3 gap-6">
                <!-- Example 1 -->
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <div class="text-3xl mb-3">ğŸ‘¨â€ğŸ’¼</div>
                    <h3 class="font-bold text-lg text-slate-900 mb-2">Mid-level: â‚¬50,000/year</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¦ğŸ‡ª Dubai</span><span class="font-semibold text-emerald-600">â‚¬50,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¸ğŸ‡¬ Singapore</span><span class="font-semibold">~â‚¬42,500 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡²ğŸ‡¦ Morocco</span><span class="font-semibold">~â‚¬40,800 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡«ğŸ‡· France</span><span class="font-semibold">~â‚¬35,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡ºğŸ‡¸ New York</span><span class="font-semibold">~â‚¬32,500 net</span></div>
                    </div>
                    <p class="text-xs text-slate-400 mt-4">Gap Dubai vs France: +â‚¬15,000/year</p>
                </div>

                <!-- Example 2 -->
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <div class="text-3xl mb-3">ğŸ‘©â€ğŸ’»</div>
                    <h3 class="font-bold text-lg text-slate-900 mb-2">Senior: â‚¬100,000/year</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¦ğŸ‡ª Dubai</span><span class="font-semibold text-emerald-600">â‚¬100,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¸ğŸ‡¬ Singapore</span><span class="font-semibold">~â‚¬78,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¨ğŸ‡­ Geneva</span><span class="font-semibold">~â‚¬72,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡«ğŸ‡· France</span><span class="font-semibold">~â‚¬58,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡ºğŸ‡¸ New York</span><span class="font-semibold">~â‚¬55,000 net</span></div>
                    </div>
                    <p class="text-xs text-slate-400 mt-4">Gap Dubai vs France: +â‚¬42,000/year</p>
                </div>

                <!-- Example 3 -->
                <div class="bg-white rounded-xl p-6 shadow-sm">
                    <div class="text-3xl mb-3">ğŸ¯</div>
                    <h3 class="font-bold text-lg text-slate-900 mb-2">Executive: â‚¬200,000/year</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¦ğŸ‡ª Dubai</span><span class="font-semibold text-emerald-600">â‚¬200,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¸ğŸ‡¬ Singapore</span><span class="font-semibold">~â‚¬145,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡¨ğŸ‡­ Geneva</span><span class="font-semibold">~â‚¬130,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡«ğŸ‡· France</span><span class="font-semibold">~â‚¬105,000 net</span></div>
                        <div class="flex justify-between"><span class="text-slate-600">ğŸ‡ºğŸ‡¸ New York</span><span class="font-semibold">~â‚¬98,000 net</span></div>
                    </div>
                    <p class="text-xs text-slate-400 mt-4">Gap Dubai vs France: +â‚¬95,000/year</p>
                </div>
            </div>

            <p class="text-xs text-slate-500 text-center mt-6">
                * Estimates based on a single person with no children. Actual amounts may vary depending on your personal situation.
            </p>
        </section>

        <!-- FAQ Section -->
        <section class="bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mt-8">
            <h2 class="text-2xl font-bold text-slate-900 mb-6">Frequently Asked Questions About International Taxation</h2>

            <div class="space-y-6">
                <details class="group border-b border-slate-200 pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">Which country offers the best net salary?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">Dubai and Saudi Arabia offer the best net salaries as they have no income tax. However, you must consider the cost of living, lack of free social security, and living conditions. Singapore offers a good compromise with low taxation and excellent quality of life.</p>
                </details>

                <details class="group border-b border-slate-200 pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">Does the comparator take into account the cost of living?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">No, this comparator focuses solely on taxation (taxes + social contributions). The cost of living varies enormously: living in Geneva or New York costs much more than in Morocco. We recommend using tools like Numbeo to compare real purchasing power.</p>
                </details>

                <details class="group border-b border-slate-200 pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">How does taxation work in Dubai?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">The United Arab Emirates does not apply personal income tax. Tax residents keep 100% of their gross salary. However, a 5% VAT applies on consumption, and employers generally do not provide mandatory retirement coverage.</p>
                </details>

                <details class="group border-b border-slate-200 pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">Why does New York have such high taxation?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">New York combines three levels of taxation: US federal tax (up to 37%), New York State tax (up to 10.9%), and New York City tax (~3.5%). Add Social Security (6.2%) and Medicare (1.45%). It's one of the heaviest tax burdens in the world.</p>
                </details>

                <details class="group border-b border-slate-200 pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">What is CPF in Singapore?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">The Central Provident Fund (CPF) is a mandatory savings system in Singapore. Employees contribute 20% of their salary (capped) to accounts dedicated to retirement, health, and housing. Unlike taxes, this money remains your property and can be used to buy housing.</p>
                </details>

                <details class="group border-b border-slate-200 pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">Is France really that heavily taxed?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">France does have high tax pressure, but it funds a comprehensive social system: social security, retirement, unemployment, family benefits, free education. Comparing only net salaries without considering these benefits would be incomplete. An expat in Dubai will have to pay for health insurance and save for retirement.</p>
                </details>

                <details class="group border-b border-slate-200 pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">How to become a tax resident in another country?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">Each country has its own rules. Generally, you must reside more than 183 days per year in the country, have your main home there, and/or carry out your professional activity on site. Pay attention to tax treaties between countries to avoid double taxation. Consult a tax advisor before making any decision.</p>
                </details>

                <details class="group pb-4">
                    <summary class="flex justify-between items-center cursor-pointer list-none">
                        <h3 class="font-semibold text-slate-800">Are the calculations accurate?</h3>
                        <span class="text-slate-400 group-open:rotate-180 transition-transform">â–¼</span>
                    </summary>
                    <p class="text-slate-600 mt-3">This simulator uses official 2024-2026 rates and provides reliable estimates for a single person without children. Actual amounts may vary depending on your family situation, applicable deductions, and specifics of your contract. For an accurate simulation, consult an accountant or tax advisor in the relevant country.</p>
                </details>
            </div>
        </section>

        <!-- Sources Section -->
        <section class="bg-slate-50 rounded-2xl p-6 mt-8">
            <h3 class="font-semibold text-slate-800 mb-4">Official Sources</h3>
            <div class="grid md:grid-cols-2 gap-4 text-sm text-slate-600">
                <div>
                    <p>ğŸ‡«ğŸ‡· <a href="https://www.impots.gouv.fr" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">impots.gouv.fr</a> - Direction Generale des Finances Publiques</p>
                    <p>ğŸ‡²ğŸ‡¦ <a href="https://www.tax.gov.ma" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">tax.gov.ma</a> - Direction Generale des Impots du Maroc</p>
                    <p>ğŸ‡¬ğŸ‡§ <a href="https://www.gov.uk/income-tax-rates" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">gov.uk</a> - HM Revenue & Customs</p>
                    <p>ğŸ‡ºğŸ‡¸ <a href="https://www.irs.gov" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">irs.gov</a> - Internal Revenue Service</p>
                </div>
                <div>
                    <p>ğŸ‡¸ğŸ‡¬ <a href="https://www.iras.gov.sg" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">iras.gov.sg</a> - Inland Revenue Authority of Singapore</p>
                    <p>ğŸ‡¨ğŸ‡³ <a href="http://www.chinatax.gov.cn" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">chinatax.gov.cn</a> - State Taxation Administration</p>
                    <p>ğŸ‡±ğŸ‡º <a href="https://impotsdirects.public.lu" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">impotsdirects.public.lu</a> - Administration des contributions directes</p>
                    <p>ğŸ‡¨ğŸ‡­ <a href="https://www.ge.ch/impots" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">ge.ch/impots</a> - Administration fiscale cantonale de Geneve</p>
                    <p>ğŸ‡¯ğŸ‡µ <a href="https://www.nta.go.jp" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">nta.go.jp</a> - National Tax Agency of Japan</p>
                    <p>ğŸ‡ªğŸ‡¸ <a href="https://sede.agenciatributaria.gob.es" target="_blank" rel="noopener" class="text-indigo-600 hover:underline">agenciatributaria.gob.es</a> - Agencia Tributaria (Spain)</p>
                </div>
            </div>
        </section>

    </main>

    <!-- i18n Script - Force English locale -->
    <script src="/assets/js/i18n.js"></script>
    <script>
        // Force English locale for this page
        if (typeof i18n !== 'undefined') {
            i18n.setLang('en');
        }
    </script>

    <footer class="py-12 px-6 border-t border-slate-200 bg-white">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center gap-2 mb-4">
                        <div class="w-6 h-6 bg-slate-900 rounded flex items-center justify-center text-white text-xs font-bold">N.</div>
                        <span class="font-semibold text-slate-900">NetSalaire</span>
                    </div>
                    <p class="text-sm text-slate-500">Free tax simulators for France and Morocco.</p>
                </div>
                <div>
                    <h4 class="font-semibold text-slate-900 mb-3 text-sm">France</h4>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li><a href="/en/france/gross-to-net/" class="hover:text-slate-900 transition-colors">Gross to Net</a></li>
                        <li><a href="/en/france/income-tax/" class="hover:text-slate-900 transition-colors">Tax Simulator</a></li>
                        <li><a href="/en/france/tax-guide/" class="hover:text-slate-900 transition-colors">Tax Guide</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-slate-900 mb-3 text-sm">Morocco</h4>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li><a href="/en/morocco/gross-to-net/" class="hover:text-slate-900 transition-colors">Gross to Net</a></li>
                        <li><a href="/en/morocco/income-tax/" class="hover:text-slate-900 transition-colors">Tax Simulator</a></li>
                        <li><a href="/en/morocco/tax-guide/" class="hover:text-slate-900 transition-colors">Tax Guide</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-slate-900 mb-3 text-sm">Information</h4>
                    <ul class="space-y-2 text-sm text-slate-500">
                        <li><a href="/en/faq/" class="hover:text-slate-900 transition-colors">FAQ</a></li>
                        <li><a href="/en/legal-notice/" class="hover:text-slate-900 transition-colors">Legal Notice</a></li>
                        <li><a href="/en/privacy-policy/" class="hover:text-slate-900 transition-colors">Privacy</a></li>
                    </ul>
                </div>
            </div>
            <div class="pt-8 border-t border-slate-200 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-slate-500">&copy; 2026 NetSalaire.com - All rights reserved</p>
            </div>
        </div>
    </footer>

    <script>
        // ==========================================
        // COUNTRY CONFIGURATIONS
        // ==========================================
        const COUNTRIES = {
            fr: {
                name: 'France',
                flag: 'ğŸ‡«ğŸ‡·',
                currency: 'EUR',
                currencySymbol: 'â‚¬',
                color: 'indigo',
                exchangeRate: 1,
                pppIndex: 1.00, // Baseline
                taxSystem: 'Quotient Familial',
                brackets: [
                    { limit: 11294, rate: 0 },
                    { limit: 28797, rate: 0.11 },
                    { limit: 82341, rate: 0.30 },
                    { limit: 177106, rate: 0.41 },
                    { limit: Infinity, rate: 0.45 }
                ],
                socialRate: 0.23,
                abattement: 0.10
            },
            ma: {
                name: 'Maroc',
                flag: 'ğŸ‡²ğŸ‡¦',
                currency: 'MAD',
                currencySymbol: 'Dh',
                color: 'emerald',
                exchangeRate: 10.8,
                pppIndex: 0.51, // World Bank: 40.7/80.2
                taxSystem: 'IR Progressif',
                brackets: [
                    { limit: 40000, rate: 0 },
                    { limit: 60000, rate: 0.10 },
                    { limit: 80000, rate: 0.20 },
                    { limit: 100000, rate: 0.30 },
                    { limit: 180000, rate: 0.34 },
                    { limit: Infinity, rate: 0.37 }
                ],
                socialRate: 0.0674,
                familyDeduction: 500,
                familyDeductionCap: 3000
            },
            ae: {
                name: 'Dubai',
                flag: 'ğŸ‡¦ğŸ‡ª',
                currency: 'AED',
                currencySymbol: 'AED',
                color: 'amber',
                exchangeRate: 4.0,
                pppIndex: 0.97, // World Bank: ~78/80.2
                taxSystem: '0% Impot',
                brackets: [],
                socialRate: 0,
                taxRate: 0
            },
            ch: {
                name: 'Geneve',
                flag: 'ğŸ‡¨ğŸ‡­',
                currency: 'CHF',
                currencySymbol: 'CHF',
                color: 'red',
                exchangeRate: 0.93,
                pppIndex: 1.57, // World Bank: 125.8/80.2
                taxSystem: 'Federal + Cantonal',
                // Simplified Geneva brackets (combined federal + cantonal + communal)
                brackets: [
                    { limit: 17500, rate: 0 },
                    { limit: 32000, rate: 0.08 },
                    { limit: 42000, rate: 0.11 },
                    { limit: 56000, rate: 0.14 },
                    { limit: 75000, rate: 0.18 },
                    { limit: 110000, rate: 0.23 },
                    { limit: 150000, rate: 0.28 },
                    { limit: 200000, rate: 0.32 },
                    { limit: 300000, rate: 0.36 },
                    { limit: Infinity, rate: 0.40 }
                ],
                socialRate: 0.064 // AVS/AI/APG
            },
            lu: {
                name: 'Luxembourg',
                flag: 'ğŸ‡±ğŸ‡º',
                currency: 'EUR',
                currencySymbol: 'â‚¬',
                color: 'sky',
                exchangeRate: 1,
                pppIndex: 1.19, // World Bank: 95.8/80.2
                taxSystem: 'IR Progressif',
                brackets: [
                    { limit: 13230, rate: 0 },
                    { limit: 15270, rate: 0.08 },
                    { limit: 17310, rate: 0.09 },
                    { limit: 19350, rate: 0.10 },
                    { limit: 21390, rate: 0.11 },
                    { limit: 23430, rate: 0.12 },
                    { limit: 25470, rate: 0.14 },
                    { limit: 27510, rate: 0.16 },
                    { limit: 29550, rate: 0.18 },
                    { limit: 31590, rate: 0.20 },
                    { limit: 33630, rate: 0.22 },
                    { limit: 35670, rate: 0.24 },
                    { limit: 37710, rate: 0.26 },
                    { limit: 39750, rate: 0.28 },
                    { limit: 41790, rate: 0.30 },
                    { limit: 43830, rate: 0.32 },
                    { limit: 45870, rate: 0.34 },
                    { limit: 47910, rate: 0.36 },
                    { limit: 49950, rate: 0.38 },
                    { limit: 100000, rate: 0.39 },
                    { limit: 150000, rate: 0.40 },
                    { limit: 234870, rate: 0.41 },
                    { limit: Infinity, rate: 0.42 }
                ],
                socialRate: 0.1299
            },
            uk: {
                name: 'UK',
                flag: 'ğŸ‡¬ğŸ‡§',
                currency: 'GBP',
                currencySymbol: 'Â£',
                color: 'blue',
                exchangeRate: 0.85,
                pppIndex: 1.12, // World Bank: 89.9/80.2
                taxSystem: 'PAYE + NI',
                // UK Income Tax 2024/25
                brackets: [
                    { limit: 12570, rate: 0 },        // Personal Allowance
                    { limit: 50270, rate: 0.20 },    // Basic rate
                    { limit: 125140, rate: 0.40 },   // Higher rate
                    { limit: Infinity, rate: 0.45 }  // Additional rate
                ],
                // National Insurance Class 1 (employee)
                niThreshold: 12570,
                niUpperLimit: 50270,
                niRate: 0.08,      // 8% between threshold and upper limit (2024/25)
                niUpperRate: 0.02  // 2% above upper limit
            },
            sa: {
                name: 'Arabie Saoudite',
                flag: 'ğŸ‡¸ğŸ‡¦',
                currency: 'SAR',
                currencySymbol: 'SAR',
                color: 'green',
                exchangeRate: 4.1,
                pppIndex: 0.63, // World Bank: 50.2/80.2
                taxSystem: '0% ImpÃ´t',
                brackets: [],
                socialRate: 0,  // No income tax for individuals
                taxRate: 0
            },
            sg: {
                name: 'Singapour',
                flag: 'ğŸ‡¸ğŸ‡¬',
                currency: 'SGD',
                currencySymbol: 'S$',
                color: 'rose',
                exchangeRate: 1.45,
                pppIndex: 0.97, // World Bank: 78/80.2
                taxSystem: 'IR Progressif',
                // Singapore Income Tax 2024
                brackets: [
                    { limit: 20000, rate: 0 },
                    { limit: 30000, rate: 0.02 },
                    { limit: 40000, rate: 0.035 },
                    { limit: 80000, rate: 0.07 },
                    { limit: 120000, rate: 0.115 },
                    { limit: 160000, rate: 0.15 },
                    { limit: 200000, rate: 0.18 },
                    { limit: 240000, rate: 0.19 },
                    { limit: 280000, rate: 0.195 },
                    { limit: 320000, rate: 0.20 },
                    { limit: 500000, rate: 0.22 },
                    { limit: 1000000, rate: 0.23 },
                    { limit: Infinity, rate: 0.24 }
                ],
                // CPF employee contribution (capped at SGD 6,800/month)
                cpfRate: 0.20,
                cpfCap: 81600 // Annual cap (6,800 * 12)
            },
            us: {
                name: 'New York',
                flag: 'ğŸ‡ºğŸ‡¸',
                currency: 'USD',
                currencySymbol: '$',
                color: 'violet',
                exchangeRate: 1.08,
                pppIndex: 1.25, // World Bank: 100/80.2
                taxSystem: 'Fed + State + City',
                // Federal Income Tax 2024 (Single)
                federalBrackets: [
                    { limit: 11600, rate: 0.10 },
                    { limit: 47150, rate: 0.12 },
                    { limit: 100525, rate: 0.22 },
                    { limit: 191950, rate: 0.24 },
                    { limit: 243725, rate: 0.32 },
                    { limit: 609350, rate: 0.35 },
                    { limit: Infinity, rate: 0.37 }
                ],
                // NY State Tax 2024
                stateBrackets: [
                    { limit: 8500, rate: 0.04 },
                    { limit: 11700, rate: 0.045 },
                    { limit: 13900, rate: 0.0525 },
                    { limit: 80650, rate: 0.0585 },
                    { limit: 215400, rate: 0.0625 },
                    { limit: 1077550, rate: 0.0685 },
                    { limit: 5000000, rate: 0.0965 },
                    { limit: 25000000, rate: 0.103 },
                    { limit: Infinity, rate: 0.109 }
                ],
                // NYC Tax (simplified average)
                cityRate: 0.035,
                // Social Security 6.2% (capped) + Medicare 1.45%
                ssRate: 0.062,
                ssCap: 168600,
                medicareRate: 0.0145
            },
            cn: {
                name: 'Shanghai',
                flag: 'ğŸ‡¨ğŸ‡³',
                currency: 'CNY',
                currencySymbol: 'Â¥',
                color: 'orange',
                exchangeRate: 7.8,
                pppIndex: 0.61, // World Bank: 49.3/80.2
                taxSystem: 'IR Progressif',
                // China Individual Income Tax
                brackets: [
                    { limit: 36000, rate: 0.03 },
                    { limit: 144000, rate: 0.10 },
                    { limit: 300000, rate: 0.20 },
                    { limit: 420000, rate: 0.25 },
                    { limit: 660000, rate: 0.30 },
                    { limit: 960000, rate: 0.35 },
                    { limit: Infinity, rate: 0.45 }
                ],
                // Standard deduction (annual)
                standardDeduction: 60000,
                // Social insurance ~10.5% employee
                socialRate: 0.105
            },
            jp: {
                name: 'Japan',
                flag: 'ğŸ‡¯ğŸ‡µ',
                currency: 'JPY',
                currencySymbol: 'Â¥',
                color: 'pink',
                exchangeRate: 160,
                pppIndex: 0.83, // World Bank: 66.8/80.2
                taxSystem: 'IT + Local',
                // Japan National Income Tax 2024
                brackets: [
                    { limit: 1950000, rate: 0.05 },
                    { limit: 3300000, rate: 0.10 },
                    { limit: 6950000, rate: 0.20 },
                    { limit: 9000000, rate: 0.23 },
                    { limit: 18000000, rate: 0.33 },
                    { limit: 40000000, rate: 0.40 },
                    { limit: Infinity, rate: 0.45 }
                ],
                // Local tax (prefectural + municipal) ~10%
                localTaxRate: 0.10,
                // Social insurance (health + pension + employment) ~15%
                socialRate: 0.15,
                // Basic exemption
                basicExemption: 480000
            },
            es: {
                name: 'Spain',
                flag: 'ğŸ‡ªğŸ‡¸',
                currency: 'EUR',
                currencySymbol: 'â‚¬',
                color: 'yellow',
                exchangeRate: 1,
                pppIndex: 0.82, // World Bank: 65.5/80.2
                taxSystem: 'IRPF Progressive',
                // Spain IRPF 2024 (general scale)
                brackets: [
                    { limit: 12450, rate: 0.19 },
                    { limit: 20200, rate: 0.24 },
                    { limit: 35200, rate: 0.30 },
                    { limit: 60000, rate: 0.37 },
                    { limit: 300000, rate: 0.45 },
                    { limit: Infinity, rate: 0.47 }
                ],
                // Social security employee ~6.35%
                socialRate: 0.0635,
                // Social security contribution cap
                socialCap: 56844
            },
            in: {
                name: 'India',
                flag: 'ğŸ‡®ğŸ‡³',
                currency: 'INR',
                currencySymbol: 'â‚¹',
                color: 'teal',
                exchangeRate: 90,
                pppIndex: 0.30, // World Bank: 23.8/80.2
                taxSystem: 'Progressive IT',
                // India New Tax Regime 2024-25
                brackets: [
                    { limit: 300000, rate: 0 },
                    { limit: 700000, rate: 0.05 },
                    { limit: 1000000, rate: 0.10 },
                    { limit: 1200000, rate: 0.15 },
                    { limit: 1500000, rate: 0.20 },
                    { limit: Infinity, rate: 0.30 }
                ],
                // EPF employee contribution 12% (capped)
                socialRate: 0.12,
                socialCap: 180000 // Annual cap (15,000 * 12)
            },
            pk: {
                name: 'Pakistan',
                flag: 'ğŸ‡µğŸ‡°',
                currency: 'PKR',
                currencySymbol: 'Rs',
                color: 'lime',
                exchangeRate: 305,
                pppIndex: 0.29, // World Bank: 23.3/80.2
                taxSystem: 'Progressive IT',
                // Pakistan Income Tax 2024
                brackets: [
                    { limit: 600000, rate: 0 },
                    { limit: 1200000, rate: 0.025 },
                    { limit: 2400000, rate: 0.125 },
                    { limit: 3600000, rate: 0.225 },
                    { limit: 6000000, rate: 0.275 },
                    { limit: Infinity, rate: 0.35 }
                ],
                // Minimal social contributions
                socialRate: 0.01
            },
            mx: {
                name: 'Mexico',
                flag: 'ğŸ‡²ğŸ‡½',
                currency: 'MXN',
                currencySymbol: '$',
                color: 'cyan',
                exchangeRate: 18.5,
                pppIndex: 0.49, // World Bank PPP
                taxSystem: 'Progressive ISR',
                // Mexico ISR 2024
                brackets: [
                    { limit: 8952.49, rate: 0.0192 },
                    { limit: 75984.55, rate: 0.0640 },
                    { limit: 133536.07, rate: 0.1088 },
                    { limit: 155229.80, rate: 0.16 },
                    { limit: 185852.57, rate: 0.1792 },
                    { limit: 374837.88, rate: 0.2136 },
                    { limit: 590795.99, rate: 0.2352 },
                    { limit: 1127926.84, rate: 0.30 },
                    { limit: 1503902.46, rate: 0.32 },
                    { limit: 4511707.37, rate: 0.34 },
                    { limit: Infinity, rate: 0.35 }
                ],
                // IMSS employee contribution ~3%
                socialRate: 0.03
            },
            br: {
                name: 'Brazil',
                flag: 'ğŸ‡§ğŸ‡·',
                currency: 'BRL',
                currencySymbol: 'R$',
                color: 'fuchsia',
                exchangeRate: 5.4,
                pppIndex: 0.42, // World Bank PPP
                taxSystem: 'Progressive IRPF',
                // Brazil IRPF 2024
                brackets: [
                    { limit: 26963.20, rate: 0 },
                    { limit: 33919.80, rate: 0.075 },
                    { limit: 45012.60, rate: 0.15 },
                    { limit: 55976.16, rate: 0.225 },
                    { limit: Infinity, rate: 0.275 }
                ],
                // INSS employee contribution 7.5-14% (capped)
                socialRate: 0.11,
                socialCap: 87691.20 // Annual cap (7307.60 * 12)
            }
        };

        // Color mappings for Tailwind
        const COLOR_CLASSES = {
            indigo: { bg: 'bg-indigo-500', bgLight: 'bg-indigo-50', text: 'text-indigo-600', border: 'border-indigo-200' },
            emerald: { bg: 'bg-emerald-500', bgLight: 'bg-emerald-50', text: 'text-emerald-600', border: 'border-emerald-200' },
            amber: { bg: 'bg-amber-500', bgLight: 'bg-amber-50', text: 'text-amber-600', border: 'border-amber-200' },
            red: { bg: 'bg-red-500', bgLight: 'bg-red-50', text: 'text-red-600', border: 'border-red-200' },
            sky: { bg: 'bg-sky-500', bgLight: 'bg-sky-50', text: 'text-sky-600', border: 'border-sky-200' },
            blue: { bg: 'bg-blue-500', bgLight: 'bg-blue-50', text: 'text-blue-600', border: 'border-blue-200' },
            green: { bg: 'bg-green-500', bgLight: 'bg-green-50', text: 'text-green-600', border: 'border-green-200' },
            rose: { bg: 'bg-rose-500', bgLight: 'bg-rose-50', text: 'text-rose-600', border: 'border-rose-200' },
            violet: { bg: 'bg-violet-500', bgLight: 'bg-violet-50', text: 'text-violet-600', border: 'border-violet-200' },
            orange: { bg: 'bg-orange-500', bgLight: 'bg-orange-50', text: 'text-orange-600', border: 'border-orange-200' },
            pink: { bg: 'bg-pink-500', bgLight: 'bg-pink-50', text: 'text-pink-600', border: 'border-pink-200' },
            yellow: { bg: 'bg-yellow-500', bgLight: 'bg-yellow-50', text: 'text-yellow-600', border: 'border-yellow-200' },
            teal: { bg: 'bg-teal-500', bgLight: 'bg-teal-50', text: 'text-teal-600', border: 'border-teal-200' },
            lime: { bg: 'bg-lime-500', bgLight: 'bg-lime-50', text: 'text-lime-600', border: 'border-lime-200' },
            cyan: { bg: 'bg-cyan-500', bgLight: 'bg-cyan-50', text: 'text-cyan-600', border: 'border-cyan-200' },
            fuchsia: { bg: 'bg-fuchsia-500', bgLight: 'bg-fuchsia-50', text: 'text-fuchsia-600', border: 'border-fuchsia-200' }
        };

        // ==========================================
        // STATE
        // ==========================================
        const state = {
            salary: 100000,
            period: 'annual',
            status: 'single',
            children: 0,
            selectedCountries: ['fr', 'ma']
        };

        // ==========================================
        // DOM ELEMENTS
        // ==========================================
        const els = {
            inputSalary: document.getElementById('input-salary'),
            btnAnnual: document.getElementById('period-annual'),
            btnMonthly: document.getElementById('period-monthly'),
            btnSingle: document.getElementById('status-single'),
            btnMarried: document.getElementById('status-married'),
            btnChildMinus: document.getElementById('child-minus'),
            btnChildPlus: document.getElementById('child-plus'),
            displayChildren: document.getElementById('children-display'),
            resultsContainer: document.getElementById('results-container'),
            verdictTitle: document.getElementById('verdict-title'),
            verdictText: document.getElementById('verdict-text'),
            rankingList: document.getElementById('ranking-list'),
            pppTitle: document.getElementById('ppp-title'),
            pppText: document.getElementById('ppp-text'),
            pppRankingList: document.getElementById('ppp-ranking-list')
        };

        // ==========================================
        // FORMATTERS
        // ==========================================
        const formatNumber = (num) => Math.round(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        const formatMoney = (amount, currency) => `${formatNumber(amount)} ${currency}`;
        const formatPct = (val) => (val * 100).toFixed(1) + '%';

        const formatInputValue = (value) => {
            const num = value.toString().replace(/\s/g, '').replace(/[^\d]/g, '');
            if (!num) return '';
            return num.replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        };
        const parseInputValue = (value) => parseFloat(value.replace(/\s/g, '')) || 0;

        // ==========================================
        // TAX CALCULATIONS
        // ==========================================

        function calculateTax(countryCode, annualGrossEur) {
            const country = COUNTRIES[countryCode];
            const localGross = annualGrossEur * country.exchangeRate;

            if (countryCode === 'ae' || countryCode === 'sa') {
                // Dubai & Saudi Arabia: 0% tax
                return {
                    country: countryCode,
                    gross: localGross,
                    grossEur: annualGrossEur,
                    social: 0,
                    tax: 0,
                    net: localGross,
                    netEur: annualGrossEur,
                    rate: 0
                };
            }

            if (countryCode === 'fr') {
                return calculateFrance(annualGrossEur);
            }

            if (countryCode === 'ma') {
                return calculateMorocco(annualGrossEur);
            }

            if (countryCode === 'ch') {
                return calculateGeneva(annualGrossEur);
            }

            if (countryCode === 'lu') {
                return calculateLuxembourg(annualGrossEur);
            }

            if (countryCode === 'uk') {
                return calculateUK(annualGrossEur);
            }

            if (countryCode === 'sg') {
                return calculateSingapore(annualGrossEur);
            }

            if (countryCode === 'us') {
                return calculateNewYork(annualGrossEur);
            }

            if (countryCode === 'cn') {
                return calculateShanghai(annualGrossEur);
            }

            if (countryCode === 'jp') {
                return calculateJapan(annualGrossEur);
            }

            if (countryCode === 'es') {
                return calculateSpain(annualGrossEur);
            }

            if (countryCode === 'in') {
                return calculateIndia(annualGrossEur);
            }

            if (countryCode === 'pk') {
                return calculatePakistan(annualGrossEur);
            }

            if (countryCode === 'mx') {
                return calculateMexico(annualGrossEur);
            }

            if (countryCode === 'br') {
                return calculateBrazil(annualGrossEur);
            }

            return null;
        }

        function calculateSingapore(annualGrossEur) {
            const country = COUNTRIES.sg;
            const localGross = annualGrossEur * country.exchangeRate;

            // CPF (capped)
            const cpf = Math.min(localGross * country.cpfRate, country.cpfCap * country.cpfRate);

            // Income Tax
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (localGross > prevLimit) {
                    const taxableInBracket = Math.min(localGross, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            const net = localGross - cpf - tax;

            return {
                country: 'sg',
                gross: localGross,
                grossEur: annualGrossEur,
                social: cpf,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (cpf + tax) / localGross
            };
        }

        function calculateNewYork(annualGrossEur) {
            const country = COUNTRIES.us;
            const localGross = annualGrossEur * country.exchangeRate;

            // Social Security (capped) + Medicare
            const ss = Math.min(localGross, country.ssCap) * country.ssRate;
            const medicare = localGross * country.medicareRate;
            const social = ss + medicare;

            // Federal Tax
            let federalTax = 0;
            for (let i = 0; i < country.federalBrackets.length; i++) {
                const bracket = country.federalBrackets[i];
                const prevLimit = i === 0 ? 0 : country.federalBrackets[i - 1].limit;
                if (localGross > prevLimit) {
                    const taxableInBracket = Math.min(localGross, bracket.limit) - prevLimit;
                    federalTax += taxableInBracket * bracket.rate;
                }
            }

            // NY State Tax
            let stateTax = 0;
            for (let i = 0; i < country.stateBrackets.length; i++) {
                const bracket = country.stateBrackets[i];
                const prevLimit = i === 0 ? 0 : country.stateBrackets[i - 1].limit;
                if (localGross > prevLimit) {
                    const taxableInBracket = Math.min(localGross, bracket.limit) - prevLimit;
                    stateTax += taxableInBracket * bracket.rate;
                }
            }

            // NYC Tax
            const cityTax = localGross * country.cityRate;

            const totalTax = federalTax + stateTax + cityTax;
            const net = localGross - social - totalTax;

            return {
                country: 'us',
                gross: localGross,
                grossEur: annualGrossEur,
                social: social,
                tax: totalTax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (social + totalTax) / localGross
            };
        }

        function calculateShanghai(annualGrossEur) {
            const country = COUNTRIES.cn;
            const localGross = annualGrossEur * country.exchangeRate;

            // Social insurance
            const social = localGross * country.socialRate;

            // Taxable income (after standard deduction)
            const taxableIncome = Math.max(0, localGross - social - country.standardDeduction);

            // Income Tax
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (taxableIncome > prevLimit) {
                    const taxableInBracket = Math.min(taxableIncome, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            const net = localGross - social - tax;

            return {
                country: 'cn',
                gross: localGross,
                grossEur: annualGrossEur,
                social: social,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (social + tax) / localGross
            };
        }

        function calculateJapan(annualGrossEur) {
            const country = COUNTRIES.jp;
            const localGross = annualGrossEur * country.exchangeRate;

            // Social insurance (~15%)
            const social = localGross * country.socialRate;

            // Taxable income after basic exemption
            const taxableIncome = Math.max(0, localGross - country.basicExemption);

            // National income tax (progressive)
            let nationalTax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (taxableIncome > prevLimit) {
                    const taxableInBracket = Math.min(taxableIncome, bracket.limit) - prevLimit;
                    nationalTax += taxableInBracket * bracket.rate;
                }
            }

            // Local tax (prefectural + municipal ~10%)
            const localTax = taxableIncome * country.localTaxRate;

            const totalTax = nationalTax + localTax;
            const net = localGross - social - totalTax;

            return {
                country: 'jp',
                gross: localGross,
                grossEur: annualGrossEur,
                social: social,
                tax: totalTax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (social + totalTax) / localGross
            };
        }

        function calculateSpain(annualGrossEur) {
            const country = COUNTRIES.es;
            const localGross = annualGrossEur;

            // Social security (capped)
            const socialBase = Math.min(localGross, country.socialCap);
            const social = socialBase * country.socialRate;

            // Taxable income
            const taxableIncome = localGross;

            // IRPF (progressive)
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (taxableIncome > prevLimit) {
                    const taxableInBracket = Math.min(taxableIncome, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            const net = localGross - social - tax;

            return {
                country: 'es',
                gross: localGross,
                grossEur: annualGrossEur,
                social: social,
                tax: tax,
                net: net,
                netEur: net,
                rate: (social + tax) / localGross
            };
        }

        function calculateUK(annualGrossEur) {
            const country = COUNTRIES.uk;
            const localGross = annualGrossEur * country.exchangeRate;

            // Calculate National Insurance
            let ni = 0;
            if (localGross > country.niThreshold) {
                if (localGross <= country.niUpperLimit) {
                    ni = (localGross - country.niThreshold) * country.niRate;
                } else {
                    ni = (country.niUpperLimit - country.niThreshold) * country.niRate;
                    ni += (localGross - country.niUpperLimit) * country.niUpperRate;
                }
            }

            // Calculate Income Tax
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (localGross > prevLimit) {
                    const taxableInBracket = Math.min(localGross, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            // Personal allowance reduction for high earners (>Â£100k)
            if (localGross > 100000) {
                const reduction = Math.min(12570, (localGross - 100000) / 2);
                tax += reduction * 0.40; // Lost allowance taxed at 40%
            }

            const net = localGross - ni - tax;

            return {
                country: 'uk',
                gross: localGross,
                grossEur: annualGrossEur,
                social: ni,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (ni + tax) / localGross
            };
        }

        function calculateFrance(annualGrossEur) {
            const country = COUNTRIES.fr;
            const socialContrib = annualGrossEur * country.socialRate;
            const netImposable = (annualGrossEur - socialContrib) * (1 - country.abattement);

            let parts = state.status === 'married' ? 2 : 1;
            if (state.children === 1) parts += 0.5;
            else if (state.children === 2) parts += 1.0;
            else if (state.children > 2) parts += 1.0 + (state.children - 2);

            const incomePerPart = netImposable / parts;
            let taxPerPart = 0;

            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (incomePerPart > prevLimit) {
                    const taxableInBracket = Math.min(incomePerPart, bracket.limit) - prevLimit;
                    taxPerPart += taxableInBracket * bracket.rate;
                }
            }

            const totalTax = taxPerPart * parts;
            const net = annualGrossEur - socialContrib - totalTax;

            return {
                country: 'fr',
                gross: annualGrossEur,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: totalTax,
                net: net,
                netEur: net,
                rate: (socialContrib + totalTax) / annualGrossEur,
                parts: parts
            };
        }

        function calculateMorocco(annualGrossEur) {
            const country = COUNTRIES.ma;
            const localGross = annualGrossEur * country.exchangeRate;

            const socialContrib = localGross * country.socialRate;
            const grossLessSocial = localGross - socialContrib;
            const proDeduction = Math.min(grossLessSocial * 0.20, 30000);
            const netImposable = grossLessSocial - proDeduction;

            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (netImposable > prevLimit) {
                    const taxableInBracket = Math.min(netImposable, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            // Family deduction
            const spouseCount = state.status === 'married' ? 1 : 0;
            const dependants = spouseCount + state.children;
            const familyReduc = Math.min(dependants * country.familyDeduction, country.familyDeductionCap);
            tax = Math.max(0, tax - familyReduc);

            const net = localGross - socialContrib - tax;

            return {
                country: 'ma',
                gross: localGross,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (socialContrib + tax) / localGross
            };
        }

        function calculateGeneva(annualGrossEur) {
            const country = COUNTRIES.ch;
            const localGross = annualGrossEur * country.exchangeRate;

            const socialContrib = localGross * country.socialRate;
            const netImposable = localGross - socialContrib;

            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (netImposable > prevLimit) {
                    const taxableInBracket = Math.min(netImposable, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            // Marriage benefit (simplified)
            if (state.status === 'married') {
                tax *= 0.85;
            }

            const net = localGross - socialContrib - tax;

            return {
                country: 'ch',
                gross: localGross,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (socialContrib + tax) / localGross
            };
        }

        function calculateLuxembourg(annualGrossEur) {
            const country = COUNTRIES.lu;

            const socialContrib = annualGrossEur * country.socialRate;
            const netImposable = annualGrossEur - socialContrib;

            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (netImposable > prevLimit) {
                    const taxableInBracket = Math.min(netImposable, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            // Class 2 benefit for married
            if (state.status === 'married') {
                tax *= 0.70;
            }

            const net = annualGrossEur - socialContrib - tax;

            return {
                country: 'lu',
                gross: annualGrossEur,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: tax,
                net: net,
                netEur: net,
                rate: (socialContrib + tax) / annualGrossEur
            };
        }

        function calculateIndia(annualGrossEur) {
            const country = COUNTRIES.in;
            const localGross = annualGrossEur * country.exchangeRate;

            // EPF contribution (capped)
            const socialContrib = Math.min(localGross * country.socialRate, country.socialCap * country.socialRate);
            const netImposable = localGross - socialContrib;

            // Calculate tax using brackets
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (netImposable > prevLimit) {
                    const taxableInBracket = Math.min(netImposable, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            const net = localGross - socialContrib - tax;

            return {
                country: 'in',
                gross: localGross,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (socialContrib + tax) / localGross
            };
        }

        function calculatePakistan(annualGrossEur) {
            const country = COUNTRIES.pk;
            const localGross = annualGrossEur * country.exchangeRate;

            // Minimal social contributions
            const socialContrib = localGross * country.socialRate;
            const netImposable = localGross - socialContrib;

            // Calculate tax using brackets
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (netImposable > prevLimit) {
                    const taxableInBracket = Math.min(netImposable, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            const net = localGross - socialContrib - tax;

            return {
                country: 'pk',
                gross: localGross,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (socialContrib + tax) / localGross
            };
        }

        function calculateMexico(annualGrossEur) {
            const country = COUNTRIES.mx;
            const localGross = annualGrossEur * country.exchangeRate;

            // IMSS social contributions ~3%
            const socialContrib = localGross * country.socialRate;
            const netImposable = localGross - socialContrib;

            // Calculate ISR using brackets
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (netImposable > prevLimit) {
                    const taxableInBracket = Math.min(netImposable, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            const net = localGross - socialContrib - tax;

            return {
                country: 'mx',
                gross: localGross,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (socialContrib + tax) / localGross
            };
        }

        function calculateBrazil(annualGrossEur) {
            const country = COUNTRIES.br;
            const localGross = annualGrossEur * country.exchangeRate;

            // INSS social contributions (capped)
            const socialContrib = country.socialCap
                ? Math.min(localGross * country.socialRate, country.socialCap * country.socialRate)
                : localGross * country.socialRate;
            const netImposable = localGross - socialContrib;

            // Calculate IRPF using brackets
            let tax = 0;
            for (let i = 0; i < country.brackets.length; i++) {
                const bracket = country.brackets[i];
                const prevLimit = i === 0 ? 0 : country.brackets[i - 1].limit;
                if (netImposable > prevLimit) {
                    const taxableInBracket = Math.min(netImposable, bracket.limit) - prevLimit;
                    tax += taxableInBracket * bracket.rate;
                }
            }

            const net = localGross - socialContrib - tax;

            return {
                country: 'br',
                gross: localGross,
                grossEur: annualGrossEur,
                social: socialContrib,
                tax: tax,
                net: net,
                netEur: net / country.exchangeRate,
                rate: (socialContrib + tax) / localGross
            };
        }

        // ==========================================
        // UI RENDERING
        // ==========================================

        function createCountryCard(data) {
            const country = COUNTRIES[data.country];
            const colors = COLOR_CLASSES[country.color];
            const multiplier = state.period === 'monthly' ? 1/12 : 1;

            const netDisplay = formatNumber(data.net * multiplier);
            const netEurDisplay = data.country !== 'fr' && data.country !== 'lu'
                ? `â‰ˆ ${formatMoney(data.netEur * multiplier, 'â‚¬')}`
                : '';

            const socialPct = data.gross > 0 ? (data.social / data.gross * 100) : 0;
            const taxPct = data.gross > 0 ? (data.tax / data.gross * 100) : 0;
            const netPct = data.gross > 0 ? (data.net / data.gross * 100) : 0;

            // Get translated country name
            const countryKeyMap = {
                'fr': 'france',
                'ma': 'maroc',
                'ae': 'dubai',
                'ch': 'geneve',
                'lu': 'luxembourg',
                'uk': 'uk',
                'sa': 'ksa',
                'sg': 'singapore',
                'us': 'newyork',
                'cn': 'shanghai',
                'jp': 'japan',
                'es': 'spain',
                'in': 'india',
                'pk': 'pakistan',
                'mx': 'mexico',
                'br': 'brazil'
            };
            const countryName = i18n.t(`country.${countryKeyMap[data.country]}`);

            return `
                <article class="bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden flex flex-col">
                    <div class="px-5 py-4 border-b border-slate-100 flex justify-between items-center ${colors.bgLight}">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">${country.flag}</span>
                            <h2 class="text-base font-semibold text-slate-900">${countryName}</h2>
                        </div>
                        <span class="text-[10px] font-medium ${colors.text} ${colors.bgLight} px-2 py-0.5 rounded-full border ${colors.border}">${country.taxSystem}</span>
                    </div>

                    <div class="p-5 flex-1 flex flex-col gap-5">
                        <!-- KPIs -->
                        <div class="grid grid-cols-2 gap-3">
                            <div class="p-3 rounded-lg bg-slate-50 border border-slate-100">
                                <p class="text-[10px] font-medium uppercase text-slate-500 mb-1">${i18n.t('comp_global.net_in_pocket')}</p>
                                <p class="text-xl font-bold text-slate-900 tracking-tight">${netDisplay} <span class="text-xs font-normal text-slate-400">${country.currencySymbol}</span></p>
                                ${netEurDisplay ? `<p class="text-[10px] text-slate-400 mt-0.5">${netEurDisplay}</p>` : ''}
                            </div>
                            <div class="p-3 rounded-lg bg-slate-50 border border-slate-100">
                                <p class="text-[10px] font-medium uppercase text-slate-500 mb-1">${i18n.t('comp_global.tax_burden')}</p>
                                <p class="text-xl font-bold ${colors.text} tracking-tight">${formatPct(data.rate)}</p>
                            </div>
                        </div>

                        <!-- Stacked Bar -->
                        <div class="space-y-2">
                            <div class="h-5 w-full bg-slate-100 rounded-md overflow-hidden flex shadow-inner">
                                <div class="${colors.bg} h-full transition-all-300" style="width: ${netPct}%"></div>
                                <div class="${colors.bg} opacity-50 h-full transition-all-300" style="width: ${taxPct}%"></div>
                                <div class="${colors.bg} opacity-25 h-full transition-all-300" style="width: ${socialPct}%"></div>
                            </div>
                            <div class="flex justify-between text-[9px] text-slate-400">
                                <div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full ${colors.bg}"></div>${i18n.t('comp_global.net')} ${netPct.toFixed(0)}%</div>
                                <div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full ${colors.bg} opacity-50"></div>${i18n.t('comp_global.ir_rate')} ${taxPct.toFixed(0)}%</div>
                                <div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full ${colors.bg} opacity-25"></div>Social ${socialPct.toFixed(0)}%</div>
                            </div>
                        </div>

                        <!-- Breakdown -->
                        <div class="mt-auto pt-3 border-t border-slate-100 space-y-2 text-xs">
                            <div class="flex justify-between">
                                <span class="text-slate-500">${i18n.t('comp_global.gross')}</span>
                                <span class="font-medium text-slate-900">${formatMoney(data.gross * multiplier, country.currencySymbol)}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-slate-500">${i18n.t('comp_global.social_contrib')}</span>
                                <span class="font-medium text-red-500">-${formatMoney(data.social * multiplier, country.currencySymbol)}</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-slate-500">${i18n.t('comp_global.income_tax')}</span>
                                <span class="font-medium text-red-500">-${formatMoney(data.tax * multiplier, country.currencySymbol)}</span>
                            </div>
                            <div class="flex justify-between pt-2 border-t border-slate-100">
                                <span class="font-semibold text-slate-900">${i18n.t('comp_global.net')}</span>
                                <span class="font-bold ${colors.text}">${formatMoney(data.net * multiplier, country.currencySymbol)}</span>
                            </div>
                        </div>
                    </div>
                </article>
            `;
        }

        function render() {
            const annualGross = state.period === 'monthly' ? state.salary * 12 : state.salary;

            if (state.selectedCountries.length < 1) {
                els.resultsContainer.innerHTML = `
                    <div class="col-span-full text-center py-12 text-slate-400">
                        <span class="iconify mx-auto mb-3" data-icon="lucide:alert-circle" width="40"></span>
                        <p>${i18n.t('comp_global.select_min_1')}</p>
                    </div>
                `;
                els.verdictTitle.textContent = i18n.t('comp_global.select_min_1_title');
                els.verdictText.textContent = '';
                els.rankingList.innerHTML = '';
                els.pppTitle.textContent = 'Purchasing Power (PPP)';
                els.pppText.textContent = 'Select at least 2 countries to compare purchasing power.';
                els.pppRankingList.innerHTML = '';
                return;
            }

            // Calculate for each selected country
            const results = state.selectedCountries.map(code => calculateTax(code, annualGross)).filter(r => r !== null);

            // Sort by net EUR (highest first)
            results.sort((a, b) => b.netEur - a.netEur);

            // Render cards
            els.resultsContainer.innerHTML = results.map(data => createCountryCard(data)).join('');

            // Update grid columns based on count (max 4)
            const count = results.length;
            if (count === 1) {
                els.resultsContainer.className = 'grid grid-cols-1 max-w-md mx-auto gap-6';
            } else if (count === 2) {
                els.resultsContainer.className = 'grid grid-cols-1 md:grid-cols-2 gap-6';
            } else if (count === 3) {
                els.resultsContainer.className = 'grid grid-cols-1 md:grid-cols-3 gap-6';
            } else {
                els.resultsContainer.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6';
            }

            // Render verdict
            const winner = results[0];
            const winnerCountry = COUNTRIES[winner.country];
            const colors = COLOR_CLASSES[winnerCountry.color];
            const countryKeyMap2 = {
                'fr': 'france',
                'ma': 'maroc',
                'ae': 'dubai',
                'ch': 'geneve',
                'lu': 'luxembourg',
                'uk': 'uk',
                'sa': 'ksa',
                'sg': 'singapore',
                'us': 'newyork',
                'cn': 'shanghai',
                'jp': 'japan',
                'es': 'spain',
                'in': 'india',
                'pk': 'pakistan'
            };
            const winnerName = i18n.t(`country.${countryKeyMap2[winner.country]}`);

            // Handle single country vs multiple countries
            if (results.length === 1) {
                els.verdictTitle.innerHTML = `${winnerCountry.flag} ${winnerName}`;
                els.verdictText.innerHTML = `${i18n.t('comp_global.effective_rate')}: ${formatPct(winner.rate)} â€¢ Net: ${formatMoney(winner.netEur, 'â‚¬')}/an`;
                els.rankingList.innerHTML = `
                    <div class="flex items-center gap-2 px-3 py-2 rounded-lg bg-yellow-500/20">
                        <span class="text-lg">${winnerCountry.flag}</span>
                        <span class="text-sm font-medium text-yellow-300">${formatMoney(winner.netEur, 'â‚¬')}</span>
                    </div>
                `;

                // PPP for single country (it is the baseline)
                els.pppTitle.innerHTML = `${winnerCountry.flag} ${winnerName}`;
                els.pppText.innerHTML = `This country is the baseline reference (PPP index: ${winnerCountry.pppIndex.toFixed(2)})`;
                els.pppRankingList.innerHTML = `
                    <div class="flex items-center gap-2 px-3 py-2 rounded-lg bg-green-500/20">
                        <span class="text-lg">${winnerCountry.flag}</span>
                        <span class="text-sm font-medium text-green-300">${formatMoney(winner.netEur, 'â‚¬')} <span class="text-xs opacity-70">(ref)</span></span>
                    </div>
                `;
            } else {
                els.verdictTitle.innerHTML = `ğŸ’° ${winnerCountry.flag} ${winnerName} ${i18n.t('comp_global.wins')} on Net Salary`;

                const diffWithLast = winner.netEur - results[results.length - 1].netEur;
                els.verdictText.innerHTML = `+${formatMoney(diffWithLast, 'â‚¬')}/yr ${i18n.t('comp_global.vs_last')} â€¢ Effective rate: ${formatPct(winner.rate)}`;

                // Net Salary Ranking badges
                els.rankingList.innerHTML = results.map((r, i) => {
                    const c = COUNTRIES[r.country];
                    const medal = i === 0 ? 'ğŸ¥‡' : i === 1 ? 'ğŸ¥ˆ' : i === 2 ? 'ğŸ¥‰' : `#${i + 1}`;
                    return `
                        <div class="flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg shrink-0 ${i === 0 ? 'bg-yellow-500/20' : 'bg-slate-700'}">
                            <span class="text-base sm:text-lg">${medal}</span>
                            <span class="text-base sm:text-lg">${c.flag}</span>
                            <span class="text-xs sm:text-sm font-medium ${i === 0 ? 'text-yellow-300' : 'text-slate-300'}">${formatMoney(r.netEur, 'â‚¬')}</span>
                        </div>
                    `;
                }).join('');

                // Calculate PPP-adjusted purchasing power (first selected country = baseline)
                const firstCountryCode = state.selectedCountries[0];
                const baselinePPP = COUNTRIES[firstCountryCode].pppIndex;
                const baselineCountry = COUNTRIES[firstCountryCode];
                const baselineName = i18n.t(`country.${countryKeyMap2[firstCountryCode]}`);

                const pppResults = results.map(r => {
                    const c = COUNTRIES[r.country];
                    // Calculate relative PPP: how much more/less purchasing power vs baseline
                    const relativePPP = baselinePPP / c.pppIndex;
                    return {
                        ...r,
                        pppPower: r.netEur * relativePPP, // Adjusted purchasing power
                        relativePPP: relativePPP
                    };
                }).sort((a, b) => b.pppPower - a.pppPower);

                // PPP Winner
                const pppWinner = pppResults[0];
                const pppWinnerCountry = COUNTRIES[pppWinner.country];
                const pppWinnerName = i18n.t(`country.${countryKeyMap2[pppWinner.country]}`);

                els.pppTitle.innerHTML = `ğŸ›’ ${pppWinnerCountry.flag} ${pppWinnerName} wins on Real Purchasing Power`;
                const pppDiff = pppWinner.pppPower - pppResults[pppResults.length - 1].pppPower;
                els.pppText.innerHTML = `+${formatMoney(pppDiff, 'â‚¬')} equivalent vs last â€¢ Baseline: ${baselineCountry.flag} ${baselineName}`;

                // PPP Ranking badges
                els.pppRankingList.innerHTML = pppResults.map((r, i) => {
                    const c = COUNTRIES[r.country];
                    const medal = i === 0 ? 'ğŸ¥‡' : i === 1 ? 'ğŸ¥ˆ' : i === 2 ? 'ğŸ¥‰' : `#${i + 1}`;
                    const pppLabel = r.relativePPP === 1 ? '(ref)' : `x${r.relativePPP.toFixed(2)}`;
                    return `
                        <div class="flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg shrink-0 ${i === 0 ? 'bg-green-500/20' : 'bg-slate-700/50'}">
                            <span class="text-base sm:text-lg">${medal}</span>
                            <span class="text-base sm:text-lg">${c.flag}</span>
                            <span class="text-xs sm:text-sm font-medium ${i === 0 ? 'text-green-300' : 'text-slate-300'}">${formatMoney(r.pppPower, 'â‚¬')} <span class="text-xs opacity-70">${pppLabel}</span></span>
                        </div>
                    `;
                }).join('');
            }
        }

        // ==========================================
        // EVENT LISTENERS
        // ==========================================

        // Country checkboxes (max 4 selection)
        const MAX_COUNTRIES = 4;
        document.querySelectorAll('.country-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                const checkedBoxes = document.querySelectorAll('.country-checkbox:checked');

                // If trying to select more than 4, prevent it
                if (checkedBoxes.length > MAX_COUNTRIES) {
                    e.target.checked = false;
                    return;
                }

                state.selectedCountries = Array.from(checkedBoxes).map(cb => cb.dataset.country);
                render();
            });
        });

        // Salary input
        els.inputSalary.addEventListener('input', (e) => {
            const cursorPos = e.target.selectionStart;
            const oldLen = e.target.value.length;

            if (!e.target.value.replace(/\s/g, '')) {
                state.salary = 0;
                e.target.value = '';
                render();
                return;
            }

            const val = parseInputValue(e.target.value);
            state.salary = val;
            e.target.value = formatInputValue(e.target.value);

            const newLen = e.target.value.length;
            const newPos = cursorPos + (newLen - oldLen);
            e.target.setSelectionRange(newPos, newPos);

            render();
        });

        // Period toggle
        const setPeriod = (p) => {
            state.period = p;
            if (p === 'annual') {
                els.btnAnnual.className = "px-3 py-1 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 transition-all-300";
                els.btnMonthly.className = "px-3 py-1 text-xs font-medium rounded-md text-slate-500 hover:text-slate-900 transition-all-300";
            } else {
                els.btnMonthly.className = "px-3 py-1 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 transition-all-300";
                els.btnAnnual.className = "px-3 py-1 text-xs font-medium rounded-md text-slate-500 hover:text-slate-900 transition-all-300";
            }
            render();
        };
        els.btnAnnual.addEventListener('click', () => setPeriod('annual'));
        els.btnMonthly.addEventListener('click', () => setPeriod('monthly'));

        // Status toggle
        const setStatus = (status) => {
            state.status = status;
            const activeClass = "flex-1 py-2 text-xs font-medium rounded-md bg-white shadow-sm text-slate-900 border border-slate-100 transition-all-300";
            const inactiveClass = "flex-1 py-2 text-xs font-medium rounded-md text-slate-500 hover:text-slate-900 transition-all-300";
            els.btnSingle.className = status === 'single' ? activeClass : inactiveClass;
            els.btnMarried.className = status === 'married' ? activeClass : inactiveClass;
            render();
        };
        els.btnSingle.addEventListener('click', () => setStatus('single'));
        els.btnMarried.addEventListener('click', () => setStatus('married'));

        // Children
        const updateChildren = (val) => {
            state.children = Math.max(0, Math.min(10, val));
            els.displayChildren.textContent = state.children;
            render();
        };
        els.btnChildMinus.addEventListener('click', () => updateChildren(state.children - 1));
        els.btnChildPlus.addEventListener('click', () => updateChildren(state.children + 1));

        // Re-render when language changes
        const originalSetLang = i18n.setLang.bind(i18n);
        i18n.setLang = function(lang) {
            originalSetLang(lang);
            render();
            updatePageMeta();
        };

        // Close language dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const dropdown = document.querySelector('.lang-dropdown');
            const switcher = document.querySelector('.lang-switcher');
            if (dropdown && !dropdown.contains(e.target) && !switcher.contains(e.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Update page meta based on language
        function updatePageMeta() {
            const lang = i18n.currentLang;
            document.documentElement.lang = lang;

            // Update title
            document.title = lang === 'en'
                ? 'International Tax Comparator - France, Morocco, Dubai, Switzerland, Luxembourg | NetSalaire'
                : 'Comparateur Fiscal International - France, Maroc, Dubai, Suisse, Luxembourg | NetSalaire';

            // Update meta description
            const metaDesc = document.querySelector('meta[name="description"]');
            if (metaDesc) {
                metaDesc.content = lang === 'en'
                    ? 'Compare your net salary between France, Morocco, Dubai, Geneva and Luxembourg. International tax simulator with income tax and social contributions.'
                    : 'Comparez votre salaire net entre la France, le Maroc, Dubai, Geneve et Luxembourg. Simulateur fiscal international avec IR et cotisations sociales.';
            }

            // Update og:locale
            const ogLocale = document.querySelector('meta[property="og:locale"]');
            if (ogLocale) {
                ogLocale.content = lang === 'en' ? 'en_US' : 'fr_FR';
            }
        }

        // Initialize
        render();
        updatePageMeta();

    </script>

</body>
</html>
