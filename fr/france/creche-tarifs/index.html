<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        function loadGA() {
            if (window.gaLoaded) return;
            window.gaLoaded = true;
            var script = document.createElement('script');
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-Z328SB8DZ8';
            script.async = true;
            document.head.appendChild(script);
            gtag('js', new Date());
            gtag('config', 'G-Z328SB8DZ8');
        }
        ['scroll', 'click', 'touchstart', 'keydown'].forEach(function(evt) {
            window.addEventListener(evt, loadGA, {once: true, passive: true});
        });
        setTimeout(loadGA, 3000);
    </script>

    <title>Simulateur Tarif CrÃ¨che et Garde 2026 - Comparateur</title>
    <meta name="description" content="Calculez et comparez le coÃ»t rÃ©el de garde aprÃ¨s aides CAF et crÃ©dit d'impÃ´t. CrÃ¨che municipale, micro-crÃ¨che ou assistante maternelle agrÃ©Ã©e. Tarifs 2026.">
    <meta name="keywords" content="simulateur creche, tarif creche, cout garde enfant, prix creche 2026, aide CAF, micro creche, assistante maternelle, CMG">
    <link rel="canonical" href="https://netsalaire.com/fr/france/creche-tarifs/">
    <link rel="alternate" hreflang="fr" href="https://netsalaire.com/fr/france/creche-tarifs/">
    <link rel="alternate" hreflang="en" href="https://netsalaire.com/en/france/daycare-calculator/">
    <link rel="alternate" hreflang="x-default" href="https://netsalaire.com/fr/france/creche-tarifs/">

    <meta property="og:title" content="Simulateur Tarif CrÃ¨che 2026 - Comparateur Gratuit">
    <meta property="og:description" content="Comparez le coÃ»t rÃ©el de la crÃ¨che, micro-crÃ¨che et assistante maternelle aprÃ¨s aides CAF.">
    <meta property="og:url" content="https://netsalaire.com/fr/france/creche-tarifs/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:site_name" content="NetSalaire">

    <link rel="icon" type="image/png" sizes="48x48" href="/assets/images/favicon-48.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicon-192.png">
    <link rel="apple-touch-icon" href="/assets/images/favicon-192.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link href="/assets/css/tailwind.min.css" rel="stylesheet">
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js" defer></script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Simulateur Tarif CrÃ¨che 2026",
        "description": "Comparez le coÃ»t de la crÃ¨che publique, micro-crÃ¨che et assistante maternelle aprÃ¨s aides CAF et crÃ©dit d'impÃ´t.",
        "url": "https://netsalaire.com/fr/france/creche-tarifs/",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR"
        }
    }
    </script>

    <style>
        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --accent: #8b5cf6;
        }
        /* Tailwind utility classes missing from build */
        .w-3\.5 { width: 0.875rem; }
        .h-3\.5 { height: 0.875rem; }
        .w-4 { width: 1rem; }
        .h-4 { height: 1rem; }
        .w-5 { width: 1.25rem; }
        .h-5 { height: 1.25rem; }
        .mt-0\.5 { margin-top: 0.125rem; }
        .flex-shrink-0 { flex-shrink: 0; }

        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 25px 50px -12px rgba(0,0,0,0.15); }
        .result-card { backdrop-filter: blur(12px); }
        .text-gradient { background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .btn-day, .btn-hour { transition: all 0.2s ease; cursor: pointer; }
        .btn-day.active, .btn-hour.active {
            transform: scale(1.05);
            background: linear-gradient(to bottom, #3b82f6, #2563eb) !important;
            color: white !important;
            box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3) !important;
        }
        .btn-zone { transition: all 0.2s ease; cursor: pointer; }
        .btn-zone.active { border-color: var(--primary) !important; background: rgba(59, 130, 246, 0.05) !important; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15); }
        .btn-zone.active svg { color: #3b82f6 !important; }
        .btn-zone.active span { color: #2563eb !important; }
        .animate-fade-in { animation: fadeIn 0.4s ease-out; }
        .animate-slide-up { animation: slideUp 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-blue-50/30 to-violet-50/20 min-h-screen">
    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 border-b border-slate-200 bg-white/80 backdrop-blur-md">
        <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
            <a href="/fr/" class="flex items-center gap-2 group">
                <div class="w-8 h-8 bg-slate-900 rounded flex items-center justify-center text-white font-semibold tracking-tighter shadow-md group-hover:bg-indigo-600 transition-colors duration-300">
                    N.
                </div>
                <span class="font-semibold tracking-tight text-slate-900">NetSalaire</span>
            </a>
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-slate-600">
                <!-- France Dropdown -->
                <div class="relative group">
                    <a href="/fr/#france" class="hover:text-slate-900 transition-colors flex items-center gap-1.5 py-2">
                        <iconify-icon icon="circle-flags:fr" width="16"></iconify-icon> France
                        <iconify-icon icon="lucide:chevron-down" width="14" class="text-slate-400 group-hover:text-slate-600 transition-transform group-hover:rotate-180"></iconify-icon>
                    </a>
                    <div class="absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                        <div class="bg-white border border-slate-200 rounded-lg shadow-lg py-2 min-w-[220px]">
                            <a href="/fr/france/simulateur-impot-revenu/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:landmark" width="18" class="text-indigo-500"></iconify-icon>
                                Simulateur ImpÃ´t
                            </a>
                            <a href="/fr/france/simulateur-salaire-brut-net/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:calculator" width="18" class="text-indigo-500"></iconify-icon>
                                Brut vers Net
                            </a>
                            <a href="/fr/france/guide/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:book-open" width="18" class="text-indigo-500"></iconify-icon>
                                Guide Fiscal
                            </a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/fr/france/simulateur-chomage-are/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ“‰</span>
                                ChÃ´mage ARE
                            </a>
                            <a href="/fr/france/simulateur-indemnite-licenciement/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ“‹</span>
                                Licenciement
                            </a>
                            <a href="/fr/france/simulateur-rupture-conventionnelle/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ¤</span>
                                Rupture Conv.
                            </a>
                            <a href="/fr/france/simulateur-apl/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ </span>
                                APL
                            </a>
                            <a href="/fr/france/creche-tarifs/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸ‘¶</span>
                                CrÃ¨che
                            </a>
                            <a href="/fr/france/simulateur-indemnite-kilometrique/" class="flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors text-sm">
                                <span class="w-[18px] text-center">ğŸš—</span>
                                Frais Km
                            </a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/fr/comparateur-salaire-france-maroc/" class="flex items-center gap-3 px-4 py-2 text-indigo-600 hover:bg-indigo-50 hover:text-indigo-700 transition-colors text-sm font-medium">
                                <span class="w-[18px] text-center">ğŸ”€</span>
                                Comparer France vs Maroc
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Maroc Dropdown -->
                <div class="relative group">
                    <a href="/fr/#maroc" class="hover:text-slate-900 transition-colors flex items-center gap-1.5 py-2">
                        <iconify-icon icon="circle-flags:ma" width="16"></iconify-icon> Maroc
                        <iconify-icon icon="lucide:chevron-down" width="14" class="text-slate-400 group-hover:text-slate-600 transition-transform group-hover:rotate-180"></iconify-icon>
                    </a>
                    <div class="absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                        <div class="bg-white border border-slate-200 rounded-lg shadow-lg py-2 min-w-[220px]">
                            <a href="/fr/maroc/simulateur-impot-revenu/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:landmark" width="18" class="text-emerald-500"></iconify-icon>
                                Simulateur ImpÃ´t
                            </a>
                            <a href="/fr/maroc/simulateur-salaire-brut-net/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:calculator" width="18" class="text-emerald-500"></iconify-icon>
                                Brut vers Net
                            </a>
                            <a href="/fr/maroc/guide/" class="flex items-center gap-3 px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors">
                                <iconify-icon icon="lucide:book-open" width="18" class="text-emerald-500"></iconify-icon>
                                Guide Fiscal
                            </a>
                            <div class="border-t border-slate-100 my-2"></div>
                            <a href="/fr/comparateur-salaire-france-maroc/" class="flex items-center gap-3 px-4 py-2 text-emerald-600 hover:bg-emerald-50 hover:text-emerald-700 transition-colors text-sm font-medium">
                                <span class="w-[18px] text-center">ğŸ”€</span>
                                Comparer France vs Maroc
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Mega-menu Tous les pays -->
                <div class="relative group">
                    <button class="hover:text-slate-900 transition-colors flex items-center gap-1.5 py-2 text-sm font-medium text-slate-600">
                        <iconify-icon icon="lucide:globe" width="16"></iconify-icon> Tous les pays
                        <iconify-icon icon="lucide:chevron-down" width="14" class="text-slate-400 group-hover:text-slate-600 transition-transform group-hover:rotate-180"></iconify-icon>
                    </button>
                    <div class="absolute top-full right-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                        <div class="bg-white border border-slate-200 rounded-xl shadow-xl mega-country-container" style="width: 600px; max-height: 75vh; overflow-y: auto;">
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mega-country-title">Europe</div>
                            <div class="grid grid-cols-2 mega-country-grid" style="column-gap: 2rem; row-gap: 0.25rem;">
                                <a href="/fr/france/simulateur-impot-revenu/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡«ğŸ‡·</span> France</a>
                                <a href="/fr/espagne/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡ªğŸ‡¸</span> Espagne</a>
                                <a href="/fr/royaume-uni/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¬ğŸ‡§</span> Royaume-Uni</a>
                                <a href="/fr/allemagne/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡©ğŸ‡ª</span> Allemagne</a>
                                <a href="/fr/italie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡¹</span> Italie</a>
                                <a href="/fr/pays-bas/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡³ğŸ‡±</span> Pays-Bas</a>
                                <a href="/fr/suisse/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡­</span> Suisse</a>
                                <a href="/fr/portugal/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡¹</span> Portugal</a>
                                <a href="/fr/belgique/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡§ğŸ‡ª</span> Belgique</a>
                                <a href="/fr/luxembourg/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡±ğŸ‡º</span> Luxembourg</a>
                                <a href="/fr/autriche/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡¹</span> Autriche</a>
                                <a href="/fr/irlande/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡ª</span> Irlande</a>
                                <a href="/fr/suede/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¸ğŸ‡ª</span> SuÃ¨de</a>
                                <a href="/fr/norvege/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡³ğŸ‡´</span> NorvÃ¨ge</a>
                                <a href="/fr/danemark/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡©ğŸ‡°</span> Danemark</a>
                                <a href="/fr/finlande/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡«ğŸ‡®</span> Finlande</a>
                                <a href="/fr/grece/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¬ğŸ‡·</span> GrÃ¨ce</a>
                                <a href="/fr/pologne/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡±</span> Pologne</a>
                                <a href="/fr/tchequie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡¿</span> TchÃ©quie</a>
                                <a href="/fr/hongrie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡­ğŸ‡º</span> Hongrie</a>
                                <a href="/fr/roumanie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡·ğŸ‡´</span> Roumanie</a>
                                <a href="/fr/croatie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡­ğŸ‡·</span> Croatie</a>
                                <a href="/fr/turquie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¹ğŸ‡·</span> Turquie</a>
                            </div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mega-country-title">AmÃ©riques</div>
                            <div class="grid grid-cols-2 mega-country-grid" style="column-gap: 2rem; row-gap: 0.25rem;">
                                <a href="/fr/usa/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡ºğŸ‡¸</span> USA</a>
                                <a href="/fr/canada/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡¦</span> Canada</a>
                                <a href="/fr/bresil/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡§ğŸ‡·</span> BrÃ©sil</a>
                                <a href="/fr/mexique/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡²ğŸ‡½</span> Mexique</a>
                                <a href="/fr/argentine/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡·</span> Argentine</a>
                                <a href="/fr/chili/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡±</span> Chili</a>
                                <a href="/fr/colombie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡´</span> Colombie</a>
                                <a href="/fr/perou/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡ª</span> PÃ©rou</a>
                            </div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mega-country-title">Asie-Pacifique</div>
                            <div class="grid grid-cols-2 mega-country-grid" style="column-gap: 2rem; row-gap: 0.25rem;">
                                <a href="/fr/japon/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¯ğŸ‡µ</span> Japon</a>
                                <a href="/fr/coree-du-sud/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡°ğŸ‡·</span> CorÃ©e du Sud</a>
                                <a href="/fr/chine/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¨ğŸ‡³</span> Chine</a>
                                <a href="/fr/singapour/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¸ğŸ‡¬</span> Singapour</a>
                                <a href="/fr/australie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡º</span> Australie</a>
                                <a href="/fr/hong-kong/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡­ğŸ‡°</span> Hong Kong</a>
                                <a href="/fr/inde/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡³</span> Inde</a>
                                <a href="/fr/nouvelle-zelande/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡³ğŸ‡¿</span> Nouvelle-ZÃ©lande</a>
                                <a href="/fr/indonesie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡®ğŸ‡©</span> IndonÃ©sie</a>
                                <a href="/fr/malaisie/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡²ğŸ‡¾</span> Malaisie</a>
                                <a href="/fr/thailande/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¹ğŸ‡­</span> ThaÃ¯lande</a>
                                <a href="/fr/pakistan/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡°</span> Pakistan</a>
                                <a href="/fr/philippines/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡µğŸ‡­</span> Philippines</a>
                                <a href="/fr/vietnam/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡»ğŸ‡³</span> Vietnam</a>
                            </div>
                            <div class="text-xs font-semibold text-slate-400 uppercase tracking-wider mega-country-title">Moyen-Orient & Afrique</div>
                            <div class="grid grid-cols-2 mega-country-grid" style="column-gap: 2rem; row-gap: 0.25rem;">
                                <a href="/fr/maroc/simulateur-impot-revenu/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡²ğŸ‡¦</span> Maroc</a>
                                <a href="/fr/dubai/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¦ğŸ‡ª</span> Ã‰mirats arabes</a>
                                <a href="/fr/arabie-saoudite/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¸ğŸ‡¦</span> Arabie Saoudite</a>
                                <a href="/fr/qatar/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¶ğŸ‡¦</span> Qatar</a>
                                <a href="/fr/koweit/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡°ğŸ‡¼</span> KoweÃ¯t</a>
                                <a href="/fr/egypte/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡ªğŸ‡¬</span> Ã‰gypte</a>
                                <a href="/fr/afrique-du-sud/simulateur-impot/" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-600 hover:bg-slate-50 hover:text-slate-900 rounded-md transition-colors"><span>ğŸ‡¿ğŸ‡¦</span> Afrique du Sud</a>
                            </div>
                            <div class="border-t border-slate-100 pt-3">
                                <a href="/fr/comparateur-global/" class="flex items-center gap-2 text-sm font-medium text-indigo-600 hover:text-indigo-700 transition-colors">
                                    <iconify-icon icon="lucide:bar-chart-3" width="16"></iconify-icon> ğŸ“Š Comparer tous les pays â†’
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="/fr/faq/" class="hover:text-slate-900 transition-colors">FAQ</a>
            </div>
            <div class="flex items-center gap-3">
                <!-- Language Switcher -->
                <div class="relative">
                    <button onclick="document.getElementById('lang-dropdown-page').classList.toggle('hidden')" class="flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium text-slate-600 hover:text-slate-900 bg-slate-100 hover:bg-slate-200 border border-slate-200 rounded-full transition-all" title="Changer de langue">
                        <span class="lang-flag">ğŸ‡«ğŸ‡·</span>
                        <iconify-icon icon="lucide:chevron-down" width="14"></iconify-icon>
                    </button>
                    <div id="lang-dropdown-page" class="hidden absolute top-full right-0 mt-2 bg-white border border-slate-200 rounded-lg shadow-lg min-w-[140px] py-1 z-50">
                        <a href="/fr/france/creche-tarifs/" class="w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 bg-slate-50 transition-colors">
                            <span>ğŸ‡«ğŸ‡·</span> Francais
                        </a>
                        <a href="/en/france/daycare-costs/" class="w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 transition-colors">
                            <span>ğŸ‡¬ğŸ‡§</span> English
                        </a>
                    </div>
                </div>
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors">
                    <iconify-icon icon="lucide:menu" width="24"></iconify-icon>
                </button>
            </div>
        </div>
    </nav>
    <!-- Mobile Menu (Full-screen overlay, outside nav to avoid backdrop-filter stacking context) -->
    <div id="mobile-menu">
        <div>
            <!-- France -->
            <div>
                <button onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('.chevron-icon').classList.toggle('rotate-180')" class="w-full flex items-center justify-between py-3 text-sm font-semibold text-slate-900">
                    <span class="flex items-center gap-2">
                        <iconify-icon icon="circle-flags:fr" width="18"></iconify-icon> France
                    </span>
                    <iconify-icon icon="lucide:chevron-down" width="16" class="chevron-icon text-slate-400 transition-transform duration-200"></iconify-icon>
                </button>
                <div class="hidden pl-4 pb-3 space-y-1">
                    <a href="/fr/france/simulateur-impot-revenu/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <iconify-icon icon="lucide:landmark" width="16" class="text-indigo-500"></iconify-icon> Simulateur Impot
                    </a>
                    <a href="/fr/france/simulateur-salaire-brut-net/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <iconify-icon icon="lucide:calculator" width="16" class="text-indigo-500"></iconify-icon> Brut vers Net
                    </a>
                    <a href="/fr/france/guide/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <iconify-icon icon="lucide:book-open" width="16" class="text-indigo-500"></iconify-icon> Guide Fiscal
                    </a>
                    <div class="border-t border-slate-100 my-1"></div>
                    <a href="/fr/france/simulateur-chomage-are/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸ“‰</span> Chomage ARE
                    </a>
                    <a href="/fr/france/simulateur-indemnite-licenciement/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸ“‹</span> Licenciement
                    </a>
                    <a href="/fr/france/simulateur-rupture-conventionnelle/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸ¤</span> Rupture Conv.
                    </a>
                    <a href="/fr/france/simulateur-apl/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸ </span> APL
                    </a>
                    <a href="/fr/france/creche-tarifs/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸ‘¶</span> Creche
                    </a>
                    <a href="/fr/france/simulateur-indemnite-kilometrique/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-indigo-600 py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸš—</span> Frais Km
                    </a>
                    <div class="border-t border-slate-100 my-1"></div>
                    <a href="/fr/comparateur-salaire-france-maroc/" class="flex items-center gap-2.5 text-sm text-indigo-600 font-medium py-1.5 px-2 rounded-lg hover:bg-indigo-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸ”€</span> Comparer France vs Maroc
                    </a>
                </div>
            </div>
            <!-- Maroc -->
            <div>
                <button onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('.chevron-icon').classList.toggle('rotate-180')" class="w-full flex items-center justify-between py-3 text-sm font-semibold text-slate-900 border-t border-slate-100">
                    <span class="flex items-center gap-2">
                        <iconify-icon icon="circle-flags:ma" width="18"></iconify-icon> Maroc
                    </span>
                    <iconify-icon icon="lucide:chevron-down" width="16" class="chevron-icon text-slate-400 transition-transform duration-200"></iconify-icon>
                </button>
                <div class="hidden pl-4 pb-3 space-y-1">
                    <a href="/fr/maroc/simulateur-impot-revenu/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-emerald-600 py-1.5 px-2 rounded-lg hover:bg-emerald-50 transition-colors">
                        <iconify-icon icon="lucide:landmark" width="16" class="text-emerald-500"></iconify-icon> Simulateur Impot
                    </a>
                    <a href="/fr/maroc/simulateur-salaire-brut-net/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-emerald-600 py-1.5 px-2 rounded-lg hover:bg-emerald-50 transition-colors">
                        <iconify-icon icon="lucide:calculator" width="16" class="text-emerald-500"></iconify-icon> Brut vers Net
                    </a>
                    <a href="/fr/maroc/guide/" class="flex items-center gap-2.5 text-sm text-slate-600 hover:text-emerald-600 py-1.5 px-2 rounded-lg hover:bg-emerald-50 transition-colors">
                        <iconify-icon icon="lucide:book-open" width="16" class="text-emerald-500"></iconify-icon> Guide Fiscal
                    </a>
                    <div class="border-t border-slate-100 my-1"></div>
                    <a href="/fr/comparateur-salaire-france-maroc/" class="flex items-center gap-2.5 text-sm text-emerald-600 font-medium py-1.5 px-2 rounded-lg hover:bg-emerald-50 transition-colors">
                        <span class="w-4 text-center text-xs">ğŸ”€</span> Comparer France vs Maroc
                    </a>
                </div>
            </div>
            <!-- Tous les pays - avec recherche -->
            <div>
                <button onclick="this.nextElementSibling.classList.toggle('hidden'); this.querySelector('.chevron-icon').classList.toggle('rotate-180');" class="w-full flex items-center justify-between py-3 text-sm font-semibold text-slate-900 border-t border-slate-100">
                    <span class="flex items-center gap-2">
                        <iconify-icon icon="lucide:globe" width="18"></iconify-icon> Tous les pays <span class="text-xs font-normal text-slate-400 ml-1">50+</span>
                    </span>
                    <iconify-icon icon="lucide:chevron-down" width="16" class="chevron-icon text-slate-400 transition-transform duration-200"></iconify-icon>
                </button>
                <div class="hidden pb-3">
                    <div class="sticky top-0 bg-white pb-2 pt-1 z-10">
                        <div class="relative">
                            <iconify-icon icon="lucide:search" width="16" class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></iconify-icon>
                            <input id="mobile-country-search" type="text" placeholder="Rechercher un pays..." class="w-full pl-9 pr-4 py-2.5 text-sm border border-slate-200 rounded-xl bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-2 focus:ring-indigo-100 outline-none transition-all" autocomplete="off">
                        </div>
                    </div>
                    <div id="mobile-country-list" class="space-y-3 px-1"></div>
                    <div id="mobile-no-results" class="hidden text-center py-6 text-sm text-slate-400">Aucun pays trouve</div>
                    <div class="border-t border-slate-100 pt-3 mt-3 px-1">
                        <a href="/fr/comparateur-global/" class="flex items-center justify-center gap-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-xl py-2.5 hover:bg-indigo-100 transition-colors">
                            <iconify-icon icon="lucide:bar-chart-3" width="16"></iconify-icon> Comparer tous les pays
                        </a>
                    </div>
                </div>
            </div>
            <!-- FAQ & Contact -->
            <div class="border-t border-slate-100 space-y-1 pt-1">
                <a href="/fr/faq/" class="flex items-center gap-2 py-3 text-sm font-semibold text-slate-900">
                    <iconify-icon icon="lucide:help-circle" width="18"></iconify-icon> FAQ
                </a>
                <a href="/fr/#contact" class="flex items-center justify-center gap-2 text-sm font-medium bg-slate-900 text-white px-4 py-2.5 rounded-xl hover:bg-slate-800 transition-colors">
                    Contact
                    <iconify-icon icon="lucide:arrow-right" width="14"></iconify-icon>
                </a>
            </div>
        </div>
    </div>
    <script src="/assets/js/mobile-menu.js" defer></script>

    <!-- Main Content -->
    <main class="pt-24 pb-16 px-4 sm:px-6">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8 animate-fade-in">
                <div class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-500/10 to-violet-500/10 text-blue-600 px-4 py-2 rounded-full text-sm font-semibold mb-4 shadow-sm">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                    Simulateur 2026
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/></svg>
                </div>
                <h1 class="text-3xl sm:text-4xl font-bold text-slate-900 mb-3 leading-tight">
                    Calculez le <span class="text-gradient">coÃ»t rÃ©el</span> de la garde
                </h1>
                <p class="text-base text-slate-500 max-w-xl mx-auto">
                    Comparez crÃ¨che publique, micro-crÃ¨che et assistante maternelle aprÃ¨s aides CAF.
                </p>
            </div>

            <!-- Formulaire -->
            <div class="animate-slide-up mb-8">
                <div class="bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl shadow-blue-500/5 border border-white/50">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-lg font-bold text-slate-800 flex items-center gap-3">
                            <span class="h-9 w-9 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center text-sm font-bold shadow-lg shadow-blue-500/20">1</span>
                            Vos informations
                        </h2>
                        <div class="hidden sm:flex items-center gap-2 text-sm text-slate-500 bg-blue-50 px-4 py-2 rounded-xl">
                            <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                            <span><span class="font-semibold text-slate-700" id="info-heures">10</span>h Ã— <span class="font-semibold text-slate-700" id="info-jours">20</span>j = <span class="font-semibold text-blue-600" id="info-total">200</span>h/mois</span>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
                        <!-- Revenus -->
                        <div class="col-span-2 md:col-span-1 space-y-3">
                            <label class="text-sm font-semibold text-slate-700 flex items-center gap-2">
                                <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/></svg>
                                Revenus foyer
                            </label>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-slate-500 mb-1">Mensuel</label>
                                    <div class="relative">
                                        <input type="text" id="revenus" inputmode="numeric" value="3 000"
                                            class="w-full pl-3 pr-10 h-11 border-2 border-slate-200 rounded-xl text-base font-semibold focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all text-right"
                                            oninput="handleRevenuChange(this)">
                                        <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs font-medium text-slate-400">â‚¬</span>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-500 mb-1">Annuel</label>
                                    <div class="relative">
                                        <input type="text" id="revenus-annuel" inputmode="numeric" value="36 000"
                                            class="w-full pl-3 pr-10 h-11 border-2 border-slate-200 rounded-xl text-base font-semibold focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all text-right"
                                            oninput="handleRevenuAnnuelChange(this)">
                                        <span class="absolute right-3 top-1/2 -translate-y-1/2 text-xs font-medium text-slate-400">â‚¬</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Enfants -->
                        <div class="space-y-3">
                            <label class="text-sm font-semibold text-slate-700 flex items-center gap-2">
                                <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
                                Enfants Ã  charge
                            </label>
                            <div class="flex items-center gap-2">
                                <button onclick="changeEnfants(-1)" class="h-11 w-11 rounded-xl bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 disabled:opacity-40 transition-all active:scale-95">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/></svg>
                                </button>
                                <div class="flex-1 h-11 rounded-xl bg-gradient-to-b from-white to-slate-50 border-2 border-slate-200 flex items-center justify-center">
                                    <span id="nb-enfants" class="text-2xl font-bold text-slate-900">1</span>
                                </div>
                                <button onclick="changeEnfants(1)" class="h-11 w-11 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600 hover:bg-blue-500 hover:text-white transition-all active:scale-95">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                                </button>
                            </div>
                        </div>

                        <!-- Zone -->
                        <div class="space-y-3">
                            <label class="text-sm font-semibold text-slate-700 flex items-center gap-2">
                                <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                                Zone
                            </label>
                            <div class="flex gap-2">
                                <button onclick="setZone(true)" id="zone-idf" class="btn-zone flex-1 h-11 px-3 rounded-xl border-2 border-slate-200 flex items-center justify-center gap-2 bg-white">
                                    <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
                                    <span class="text-sm font-semibold text-slate-600">IDF</span>
                                </button>
                                <button onclick="setZone(false)" id="zone-province" class="btn-zone active flex-1 h-11 px-3 rounded-xl border-2 border-slate-200 flex items-center justify-center gap-2 bg-white">
                                    <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/></svg>
                                    <span class="text-sm font-semibold text-slate-600">Autres</span>
                                </button>
                            </div>
                            <p class="text-xs text-slate-400 text-center">Tarifs plus Ã©levÃ©s en IDF</p>
                        </div>

                        <!-- Heures/jour -->
                        <div class="space-y-3">
                            <label class="text-sm font-semibold text-slate-700 flex items-center gap-2">
                                <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                Heures/jour
                            </label>
                            <div class="flex gap-1.5">
                                <button onclick="setHeures(6)" data-h="6" class="btn-hour flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">6h</button>
                                <button onclick="setHeures(7)" data-h="7" class="btn-hour flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">7h</button>
                                <button onclick="setHeures(8)" data-h="8" class="btn-hour flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">8h</button>
                                <button onclick="setHeures(9)" data-h="9" class="btn-hour flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">9h</button>
                                <button onclick="setHeures(10)" data-h="10" class="btn-hour active flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">10h</button>
                            </div>
                            <p class="text-xs text-slate-400 text-center">Publique & Assmat â€¢ Micro: 10h fixe</p>
                        </div>

                        <!-- Jours/semaine -->
                        <div class="space-y-3">
                            <label class="text-sm font-semibold text-slate-700 flex items-center gap-2">
                                <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                                Jours/semaine
                            </label>
                            <div class="flex gap-1.5">
                                <button onclick="setJours(1)" data-j="1" class="btn-day flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">1j</button>
                                <button onclick="setJours(2)" data-j="2" class="btn-day flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">2j</button>
                                <button onclick="setJours(3)" data-j="3" class="btn-day flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">3j</button>
                                <button onclick="setJours(4)" data-j="4" class="btn-day flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">4j</button>
                                <button onclick="setJours(5)" data-j="5" class="btn-day active flex-1 h-11 rounded-xl font-bold text-sm bg-slate-100 text-slate-600 hover:bg-slate-200">5j</button>
                            </div>
                            <p class="text-xs text-slate-400 text-center">= <span id="jours-mois">20</span> jours/mois</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RÃ©sultats -->
            <div class="space-y-4 animate-slide-up" style="animation-delay: 0.1s">
                <h2 class="text-lg font-bold text-slate-800 flex items-center gap-3 justify-center">
                    <span class="h-9 w-9 rounded-xl bg-gradient-to-br from-violet-500 to-violet-600 text-white flex items-center justify-center text-sm font-bold shadow-lg shadow-violet-500/20">2</span>
                    Comparez les 3 modes de garde
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
                    <!-- CrÃ¨che publique -->
                    <div class="result-card bg-white/80 rounded-3xl overflow-hidden shadow-xl shadow-slate-200/50 border border-white/50 card-hover">
                        <div class="p-5 rounded-t-2xl" style="background: linear-gradient(to right, #3b82f6, #2563eb);">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="h-10 w-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
                                </div>
                                <div>
                                    <h3 class="text-base font-bold text-white">CrÃ¨che publique</h3>
                                    <p class="text-xs text-white/70">Tarif rÃ©glementÃ© PSU</p>
                                </div>
                            </div>
                            <div class="bg-white/15 backdrop-blur-sm rounded-xl p-4">
                                <div class="text-xs font-medium text-white/70 mb-1">CoÃ»t rÃ©el aprÃ¨s aides</div>
                                <div class="flex items-end justify-between">
                                    <div class="text-3xl font-bold text-white">
                                        <span id="pub-final">0</span> â‚¬<span class="text-base font-medium text-white/70">/mois</span>
                                    </div>
                                    <div class="text-right bg-white/20 px-2.5 py-1 rounded-lg">
                                        <div class="text-sm font-bold text-white"><span id="pub-final-an">0</span> â‚¬/an</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 space-y-2">
                            <div class="p-2.5 bg-blue-50 rounded-lg border border-blue-100 mb-3">
                                <div class="flex items-start gap-2">
                                    <svg class="w-3.5 h-3.5 text-blue-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                    <p class="text-xs text-blue-700">Tarif PSU rÃ©glementÃ©. Pas de CMG Ã  demander.</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                    Tarif horaire
                                </span>
                                <span class="font-semibold text-slate-700"><span id="pub-horaire">0,00</span> â‚¬/h <span class="text-slate-400 font-normal text-xs">Ã— <span id="pub-heures">200</span>h</span></span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"/></svg>
                                    CoÃ»t PSU
                                </span>
                                <span class="font-semibold text-slate-700"><span id="pub-brut">0</span> â‚¬/mois</span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm border-t border-slate-100 mt-2 pt-3">
                                <span class="text-green-600 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                                    CrÃ©dit d'impÃ´t
                                </span>
                                <span class="font-semibold text-green-600">-<span id="pub-credit">0</span> â‚¬/an</span>
                            </div>
                        </div>
                    </div>

                    <!-- Micro-crÃ¨che -->
                    <div class="result-card bg-white/80 rounded-3xl overflow-hidden shadow-xl shadow-slate-200/50 border border-white/50 card-hover">
                        <div class="p-5 rounded-t-2xl" style="background: linear-gradient(to right, #10b981, #059669);">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="h-10 w-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
                                </div>
                                <div>
                                    <h3 class="text-base font-bold text-white">Micro-crÃ¨che</h3>
                                    <p class="text-xs text-white/70">Avec aides CMG</p>
                                </div>
                            </div>
                            <div class="bg-white/15 backdrop-blur-sm rounded-xl p-4">
                                <div class="text-xs font-medium text-white/70 mb-1">CoÃ»t rÃ©el aprÃ¨s aides</div>
                                <div class="flex items-end justify-between">
                                    <div class="text-3xl font-bold text-white">
                                        <span id="micro-final">0</span> â‚¬<span class="text-base font-medium text-white/70">/mois</span>
                                    </div>
                                    <div class="text-right bg-white/20 px-2.5 py-1 rounded-lg">
                                        <div class="text-sm font-bold text-white"><span id="micro-final-an">0</span> â‚¬/an</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 space-y-2">
                            <div class="p-2.5 bg-emerald-50 rounded-lg border border-emerald-100 mb-3">
                                <div class="flex items-start gap-2">
                                    <svg class="w-3.5 h-3.5 text-emerald-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                    <p class="text-xs text-emerald-700">10h/jour fixe. CMG jusqu'Ã  85%.</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                    Tarif horaire
                                </span>
                                <span class="font-semibold text-slate-700"><span id="micro-horaire">0</span> â‚¬/h <span class="text-slate-400 font-normal text-xs">Ã— <span id="micro-heures">200</span>h</span></span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"/></svg>
                                    CoÃ»t brut
                                </span>
                                <span class="font-semibold text-slate-700"><span id="micro-brut">0</span> â‚¬/mois</span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-emerald-700 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"/></svg>
                                    Aides CMG
                                </span>
                                <span class="font-semibold text-emerald-600">-<span id="micro-cmg">0</span> â‚¬/mois</span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/></svg>
                                    Reste Ã  charge
                                </span>
                                <span class="font-semibold text-slate-700"><span id="micro-reste">0</span> â‚¬/mois</span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm border-t border-slate-100 mt-2 pt-3">
                                <span class="text-green-600 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                                    CrÃ©dit d'impÃ´t
                                </span>
                                <span class="font-semibold text-green-600">-<span id="micro-credit">0</span> â‚¬/an</span>
                            </div>
                        </div>
                    </div>

                    <!-- Assistante maternelle -->
                    <div class="result-card bg-white/80 rounded-3xl overflow-hidden shadow-xl shadow-slate-200/50 border border-white/50 card-hover">
                        <div class="p-5 rounded-t-2xl" style="background: linear-gradient(to right, #8b5cf6, #7c3aed);">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="h-10 w-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                                </div>
                                <div>
                                    <h3 class="text-base font-bold text-white">Assistante maternelle</h3>
                                    <p class="text-xs text-white/70">Ã€ domicile agrÃ©Ã©e</p>
                                </div>
                            </div>
                            <div class="bg-white/15 backdrop-blur-sm rounded-xl p-4">
                                <div class="text-xs font-medium text-white/70 mb-1">CoÃ»t rÃ©el aprÃ¨s aides</div>
                                <div class="flex items-end justify-between">
                                    <div class="text-3xl font-bold text-white">
                                        <span id="assmat-final">0</span> â‚¬<span class="text-base font-medium text-white/70">/mois</span>
                                    </div>
                                    <div class="text-right bg-white/20 px-2.5 py-1 rounded-lg">
                                        <div class="text-sm font-bold text-white"><span id="assmat-final-an">0</span> â‚¬/an</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 space-y-2">
                            <div class="p-2.5 bg-violet-50 rounded-lg border border-violet-100 mb-3">
                                <div class="flex items-start gap-2">
                                    <svg class="w-3.5 h-3.5 text-violet-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                    <p class="text-xs text-violet-700">Cotisations 100% prises en charge.</p>
                                </div>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                    Salaire moyen
                                </span>
                                <span class="font-semibold text-slate-700"><span id="assmat-horaire">0,00</span> â‚¬/h <span class="text-slate-400 font-normal text-xs">Ã— <span id="assmat-heures">200</span>h</span></span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>
                                    IndemnitÃ©s
                                </span>
                                <span class="font-semibold text-slate-700">+<span id="assmat-indem">0</span> â‚¬/mois</span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-slate-500 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"/></svg>
                                    CoÃ»t brut
                                </span>
                                <span class="font-semibold text-slate-700"><span id="assmat-brut">0</span> â‚¬/mois</span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm">
                                <span class="text-violet-700 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"/></svg>
                                    Aides CMG
                                </span>
                                <span class="font-semibold text-violet-600">-<span id="assmat-cmg">0</span> â‚¬/mois</span>
                            </div>
                            <div class="flex items-center justify-between py-2 text-sm border-t border-slate-100 mt-2 pt-3">
                                <span class="text-green-600 flex items-center gap-2">
                                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                                    CrÃ©dit d'impÃ´t
                                </span>
                                <span class="font-semibold text-green-600">-<span id="assmat-credit">0</span> â‚¬/an</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Disclaimer -->
                <div class="p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200/50 max-w-2xl mx-auto">
                    <p class="text-xs text-amber-700 text-center">
                        <strong class="font-semibold">Simulation indicative</strong> â€” Consultez votre CAF pour une estimation personnalisÃ©e.
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-400 py-12">
        <div class="max-w-6xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold">N.</div>
                    <span class="font-semibold text-white">NetSalaire</span>
                </div>
                <div class="flex gap-6 text-sm">
                    <a href="/fr/mentions-legales/" class="hover:text-white transition-colors">Mentions lÃ©gales</a>
                    <a href="/fr/politique-confidentialite/" class="hover:text-white transition-colors">ConfidentialitÃ©</a>
                    <a href="/fr/faq/" class="hover:text-white transition-colors">FAQ</a>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-slate-800 text-center text-sm">
                <p>Â© 2026 NetSalaire. Simulateurs fiscaux gratuits.</p>
            </div>
        </div>
    </footer>

    <script>
        // Ã‰tat
        let state = { revenuAnnuel: 36000, nbEnfants: 1, estIDF: false, heuresJour: 10, joursSemaine: 5 };

        // BarÃ¨me PSU 2026
        const PSU = {
            TAUX: { 1: 0.000619, 2: 0.000516, 3: 0.000413, 4: 0.000310, 5: 0.000310, 6: 0.000310, 7: 0.000310, 8: 0.000206 },
            PLANCHER: 814.62, PLAFOND: 8500, MIN: 0.17, MAX: 5.26
        };

        // Micro-crÃ¨che & Assmat
        const MICRO = { IDF: 10, PROVINCE: 9, HEURES: 10 };
        const ASSMAT = { IDF: 4.50, PROVINCE: 3.80, ENTRETIEN: 3.80, REPAS: 5.00, PLAFOND_CMG: 8.00, REF: 4.85 };

        // CMG
        const CMG = {
            PLAFONDS: { 1: { t1: 24333, t2: 54075 }, 2: { t1: 27786, t2: 61751 }, 3: { t1: 31239, t2: 69427 } },
            MONTANTS: { t1: 984.26, t2: 848.47, t3: 712.72 }
        };

        const CREDIT = { TAUX: 0.5, MAX: 1750 };

        // Calculs
        function getTauxPSU(revenu, enfants) {
            const mensuel = Math.min(Math.max(revenu / 12, PSU.PLANCHER), PSU.PLAFOND);
            const taux = PSU.TAUX[Math.min(Math.max(enfants, 1), 8)] || PSU.TAUX[8];
            return Math.min(Math.max(mensuel * taux, PSU.MIN), PSU.MAX);
        }

        function getCMG(revenu, enfants, cout) {
            const p = CMG.PLAFONDS[Math.min(enfants, 3)] || CMG.PLAFONDS[3];
            const max = revenu <= p.t1 ? CMG.MONTANTS.t1 : revenu <= p.t2 ? CMG.MONTANTS.t2 : CMG.MONTANTS.t3;
            return Math.round(Math.min(max, cout * 0.85));
        }

        // === GA4 EVENT TRACKING ===
        let lastTrackedRevenu = 0;
        let trackingTimeout = null;
        function trackCrecheCalculation(revenu, enfants) {
            clearTimeout(trackingTimeout);
            trackingTimeout = setTimeout(() => {
                if (Math.abs(revenu - lastTrackedRevenu) < 1000) return;
                lastTrackedRevenu = revenu;
                if (typeof gtag === 'function') {
                    gtag('event', 'calculation', {
                        'event_category': 'Simulateur Creche',
                        'event_label': enfants + ' enfant(s)',
                        'value': Math.round(revenu)
                    });
                }
            }, 1500);
        }

        function calculer() {
            const { revenuAnnuel, nbEnfants, estIDF, heuresJour, joursSemaine } = state;
            const joursMois = joursSemaine * 4;
            const heuresMoisPub = heuresJour * joursMois;
            const heuresMoisMicro = MICRO.HEURES * joursMois;

            // Publique
            const tauxPSU = getTauxPSU(revenuAnnuel, nbEnfants);
            const coutPub = Math.round(tauxPSU * heuresMoisPub);
            const creditPub = Math.min(coutPub * 12 * CREDIT.TAUX, CREDIT.MAX);
            const finalPub = Math.round((coutPub * 12 - creditPub) / 12);

            // Micro
            const tarifMicro = estIDF ? MICRO.IDF : MICRO.PROVINCE;
            const coutMicro = tarifMicro * heuresMoisMicro;
            const cmgMicro = getCMG(revenuAnnuel, nbEnfants, coutMicro);
            const resteMicro = Math.max(coutMicro - cmgMicro, Math.round(coutMicro * 0.15));
            const creditMicro = Math.min(resteMicro * 12 * CREDIT.TAUX, CREDIT.MAX);
            const finalMicro = Math.round((resteMicro * 12 - creditMicro) / 12);

            // Assmat
            const salaire = estIDF ? ASSMAT.IDF : ASSMAT.PROVINCE;
            const salaireMois = Math.round(salaire * heuresMoisPub);
            const indem = Math.round((ASSMAT.ENTRETIEN + ASSMAT.REPAS) * joursMois);
            const coutAssmat = salaireMois + indem;
            const coutPlaf = Math.round(Math.min(salaire + indem / heuresMoisPub, ASSMAT.PLAFOND_CMG) * heuresMoisPub);
            const cotis = Math.round(salaireMois * 0.25);
            const tauxAssmat = (PSU.TAUX[Math.min(nbEnfants, 4)] || PSU.TAUX[4]);
            const facteur = (revenuAnnuel / 12 * tauxAssmat) / ASSMAT.REF;
            const cmgRem = Math.max(0, coutPlaf - Math.round(coutPlaf * facteur));
            const cmgAssmat = cmgRem + cotis;
            const resteAssmat = Math.max(0, coutAssmat - cmgAssmat);
            const creditAssmat = Math.min(resteAssmat * 12 * CREDIT.TAUX, CREDIT.MAX);
            const finalAssmat = Math.round((resteAssmat * 12 - creditAssmat) / 12);

            // Affichage
            const fmt = n => Math.round(n).toLocaleString('fr-FR');

            document.getElementById('pub-horaire').textContent = tauxPSU.toFixed(2).replace('.', ',');
            document.getElementById('pub-heures').textContent = heuresMoisPub;
            document.getElementById('pub-brut').textContent = fmt(coutPub);
            document.getElementById('pub-credit').textContent = fmt(creditPub);
            document.getElementById('pub-final').textContent = fmt(finalPub);
            document.getElementById('pub-final-an').textContent = fmt(finalPub * 12);

            document.getElementById('micro-horaire').textContent = tarifMicro;
            document.getElementById('micro-heures').textContent = heuresMoisMicro;
            document.getElementById('micro-brut').textContent = fmt(coutMicro);
            document.getElementById('micro-cmg').textContent = fmt(cmgMicro);
            document.getElementById('micro-reste').textContent = fmt(resteMicro);
            document.getElementById('micro-credit').textContent = fmt(creditMicro);
            document.getElementById('micro-final').textContent = fmt(finalMicro);
            document.getElementById('micro-final-an').textContent = fmt(finalMicro * 12);

            document.getElementById('assmat-horaire').textContent = salaire.toFixed(2).replace('.', ',');
            document.getElementById('assmat-heures').textContent = heuresMoisPub;
            document.getElementById('assmat-indem').textContent = fmt(indem);
            document.getElementById('assmat-brut').textContent = fmt(coutAssmat);
            document.getElementById('assmat-cmg').textContent = fmt(cmgAssmat);
            document.getElementById('assmat-credit').textContent = fmt(creditAssmat);
            document.getElementById('assmat-final').textContent = fmt(finalAssmat);
            document.getElementById('assmat-final-an').textContent = fmt(finalAssmat * 12);

            // Info header
            document.getElementById('info-heures').textContent = heuresJour;
            document.getElementById('info-jours').textContent = joursMois;
            document.getElementById('info-total').textContent = heuresJour * joursMois;
            document.getElementById('jours-mois').textContent = joursMois;

            // GA4 tracking
            trackCrecheCalculation(revenuAnnuel, nbEnfants);
        }

        // Handlers
        function handleRevenuChange(input) {
            const val = parseInt(input.value.replace(/\D/g, '')) || 0;
            input.value = val.toLocaleString('fr-FR');
            state.revenuAnnuel = val * 12;
            document.getElementById('revenus-annuel').value = (val * 12).toLocaleString('fr-FR');
            calculer();
        }

        function handleRevenuAnnuelChange(input) {
            const val = parseInt(input.value.replace(/\D/g, '')) || 0;
            input.value = val.toLocaleString('fr-FR');
            state.revenuAnnuel = val;
            document.getElementById('revenus').value = Math.round(val / 12).toLocaleString('fr-FR');
            calculer();
        }

        function changeEnfants(d) {
            state.nbEnfants = Math.max(1, Math.min(10, state.nbEnfants + d));
            document.getElementById('nb-enfants').textContent = state.nbEnfants;
            calculer();
        }

        function setZone(isIDF) {
            state.estIDF = isIDF;
            document.getElementById('zone-idf').classList.toggle('active', isIDF);
            document.getElementById('zone-province').classList.toggle('active', !isIDF);
            calculer();
        }

        function setHeures(h) {
            state.heuresJour = h;
            document.querySelectorAll('.btn-hour').forEach(btn => {
                btn.classList.toggle('active', parseInt(btn.dataset.h) === h);
            });
            calculer();
        }

        function setJours(j) {
            state.joursSemaine = j;
            document.querySelectorAll('.btn-day').forEach(btn => {
                btn.classList.toggle('active', parseInt(btn.dataset.j) === j);
            });
            calculer();
        }

        document.addEventListener('DOMContentLoaded', calculer);
    </script>
</body>
</html>
